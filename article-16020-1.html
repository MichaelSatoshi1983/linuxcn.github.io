<!doctype html><html lang="en"><head><meta name="description" content="ä¸€ä¸ªLinuxCNçš„é•œåƒç«™"><meta name="msvalidate.01" content="D404690CEFCB54C7762AC84935B99171"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6618da70c90c8744eead2e9371fb5077";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">!function(t,e,n,c,s,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/s5f3f0tojf",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/theme.css"><link rel="shortcut icon" href="/favicon.png"><title>DNS æ•…éšœé›†é”¦ - å½’å¢Ÿæ˜Ÿç«é›† åˆä¸€ä¸ª LinuxCN ç«™ç‚¹</title><meta name="generator" content="Hexo 7.3.0"></head><body><div class="header-title"><span class="header-light"></span> <span class="header-light"></span> <span class="header-light"></span> <span>å½’å¢Ÿæ˜Ÿç«é›† åˆä¸€ä¸ª LinuxCN ç«™ç‚¹ linuxcn.undefined.today<span></span></span></div><div class="container"><ul class="nav"><li><a href="/">é¦–é¡µ</a></li><li><a target="_blank" rel="noopener" href="https://undefined.today/">Blog</a></li></ul><div class="content"><div class="post-container"><div class="post-header"><span class="ui-tips">æ ‡é¢˜ï¼š</span><h1 class="ui-keyword post-title">DNS æ•…éšœé›†é”¦</h1><span class="post-date">2023-07-21</span></div><div class="post-header"><span class="ui-tips">åˆ†ç±»ï¼š</span> <a href="/categories/%E7%B3%BB%E7%BB%9F%E8%BF%90%E7%BB%B4/">ç³»ç»Ÿè¿ç»´</a></div><div class="post-header"><span class="ui-tips">æ ‡ç­¾ï¼š</span> <a href="/tags/DNS/">DNS</a></div><div class="post-content"><p><img src="https://linuxcn.img.undefined.today/data/attachment/album/202307/21/122322a5gd2ff1ffagfbnr.jpg"></p><p>å½“æˆ‘ç¬¬ä¸€æ¬¡çŸ¥é“ DNS æ—¶ï¼Œæˆ‘æƒ³å®ƒåº”è¯¥ä¸ä¼šå¾ˆå¤æ‚ã€‚ä¸å°±æ˜¯ä¸€äº›å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„ DNS è®°å½•ç½¢äº†ã€‚æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Ÿ</p><p>ä½†æ˜¯æ•™ç§‘ä¹¦ä¸Šåªæ˜¯ä»‹ç»äº† DNS çš„åŸç†ï¼Œå¹¶æ²¡æœ‰å‘Šè¯‰ä½ å®é™…ä½¿ç”¨ä¸­ DNS å¯èƒ½ä¼šä»¥å¤šå°‘ç§æ–¹å¼ç ´åä½ çš„ç³»ç»Ÿã€‚è¿™å¯ä¸ä»…ä»…æ˜¯ç¼“å­˜é—®é¢˜ï¼</p><p>æ‰€ä»¥æˆ‘ <a target="_blank" rel="noopener" href="https://twitter.com/b0rk/status/1481265429897261058">åœ¨ Twitter ä¸Šå‘èµ·äº†ä¸€ä¸ªæé—®</a>ï¼Œå¾é›†äººä»¬é‡åˆ°çš„ DNS é—®é¢˜ï¼Œå°¤å…¶æ˜¯é‚£äº›ä¸€å¼€å§‹çœ‹èµ·æ¥ä¸ DNS æ²¡ä»€ä¹ˆå…³ç³»çš„é—®é¢˜ã€‚ï¼ˆâ€œæ€»æ˜¯ DNS é—®é¢˜â€è¿™ä¸ªæ¢—ï¼‰</p><p>æˆ‘ä¸æ‰“ç®—åœ¨è¿™ç¯‡æ–‡ç« ä¸­è®¨è®ºå¦‚ä½•è§£å†³æˆ–é¿å…è¿™äº›é—®é¢˜ï¼Œä½†æˆ‘ä¼šæ”¾ä¸€äº›è®¨è®ºè¿™äº›é—®é¢˜çš„é“¾æ¥ï¼Œåœ¨é‚£é‡Œå¯ä»¥æ‰¾åˆ°è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚</p><h3 id="é—®é¢˜ï¼šç½‘ç»œè¯·æ±‚ç¼“æ…¢"><a href="#é—®é¢˜ï¼šç½‘ç»œè¯·æ±‚ç¼“æ…¢" class="headerlink" title="é—®é¢˜ï¼šç½‘ç»œè¯·æ±‚ç¼“æ…¢"></a>é—®é¢˜ï¼šç½‘ç»œè¯·æ±‚ç¼“æ…¢</h3><p>å¦‚æœä½ çš„ç½‘ç»œæ¯”é¢„æœŸçš„è¦æ…¢ï¼Œè¿™æ˜¯å› ä¸ºæŸäº›åŸå› å¯¼è‡´ DNS è§£æå™¨å˜æ…¢äº†ã€‚è¿™å¯èƒ½æ˜¯è§£æå™¨è´Ÿè½½è¿‡å¤§æˆ–è€…å­˜åœ¨å†…å­˜æ³„æ¼ç­‰åŸå› å¯¼è‡´çš„ã€‚</p><p>æˆ‘çš„è·¯ç”±å™¨çš„ DNS è½¬å‘å™¨æ›¾é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯¼è‡´æˆ‘çš„æ‰€æœ‰ DNS è¯·æ±‚å¾ˆæ…¢ã€‚æˆ‘é€šè¿‡é‡å¯è·¯ç”±å™¨è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="é—®é¢˜ï¼šDNS-è¶…æ—¶"><a href="#é—®é¢˜ï¼šDNS-è¶…æ—¶" class="headerlink" title="é—®é¢˜ï¼šDNS è¶…æ—¶"></a>é—®é¢˜ï¼šDNS è¶…æ—¶</h3><p>ä¸€äº›ç½‘å‹æåˆ°ç”±äº DNS æŸ¥è¯¢è¶…æ—¶ï¼Œä»–ä»¬çš„ç½‘ç»œè¯·æ±‚éœ€è¦è€—æ—¶ 2 ç§’å¤šç”šè‡³ 30 ç§’ã€‚è¿™è·Ÿâ€œç½‘ç»œè¯·æ±‚ç¼“æ…¢â€é—®é¢˜ç±»ä¼¼ï¼Œä½†æƒ…å†µè¦æ›´ç³Ÿç³•ï¼Œå› ä¸º DNS è¯·æ±‚å°±ä¼šæ¶ˆè€—æ‰å‡ ç§’é’Ÿæ—¶é—´ã€‚</p><p>Sophie Haskins æœ‰ä¸€ç¯‡å…³äº Kubernete DNS è¶…æ—¶çš„åšå®¢æ–‡ç«  <a target="_blank" rel="noopener" href="https://blog.sophaskins.net/blog/misadventures-with-kube-dns/">ä¸€æ¬¡ Kube DNS è¸©å‘ç»å†</a>ã€‚</p><h3 id="é—®é¢˜ï¼šndots-è®¾ç½®"><a href="#é—®é¢˜ï¼šndots-è®¾ç½®" class="headerlink" title="é—®é¢˜ï¼šndots è®¾ç½®"></a>é—®é¢˜ï¼šndots è®¾ç½®</h3><p>ä¸€äº›ç½‘å‹æåˆ°åœ¨ <code>/etc/resolv.conf</code> ä¸­è®¾ç½® <code>ndots:5</code> æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>ä¸‹é¢æ˜¯ä» <a target="_blank" rel="noopener" href="https://pracucci.com/kubernetes-dns-resolution-ndots-options-and-why-it-may-affect-application-performances.html">è¿™ç¯‡</a>ã€ŠKubernetes å®¹å™¨èšä¸­ <code>/etc/resolv.conf</code> é‡Œè®¾ç½® <code>ndots:5</code> ä¸ºä»€ä¹ˆä¼šæ‹–æ…¢ä½ çš„ç¨‹åºæ€§èƒ½ã€‹ä¸­å¼•ç”¨çš„ <code>/etc/resolv.conf</code>æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nameserver 100.64.0.10</span><br><span class="line">search namespace.svc.cluster.local svc.cluster.local cluster.local eu-west-1.compute.internal</span><br><span class="line">options ndots:5</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ç”¨ä¸Šé¢çš„é…ç½®æ–‡ä»¶ï¼Œæƒ³è¦æŸ¥è¯¢å¾—åŸŸåæ˜¯ <code>google.com</code>ï¼Œé‚£ä¹ˆä½ çš„ç¨‹åºä¼šè°ƒç”¨ <code>getaddrinfo</code> å‡½æ•°ï¼Œè€Œå®ƒä¼šä¾æ¬¡æŸ¥è¯¢ä»¥ä¸‹åŸŸåï¼š</p><ol><li><code>google.com.namespace.svc.cluster.local.</code></li><li><code>google.com.svc.cluster.local.</code></li><li><code>google.com.cluster.local.</code></li><li><code>google.com.eu-west-1.compute.internal.</code></li><li><code>google.com.</code></li></ol><p>ç®€å•æ¥è¯´ï¼Œå®ƒä¼šæ£€æŸ¥ <code>google.com</code> æ˜¯ä¸æ˜¯ <code>search</code> è¿™ä¸€è¡Œä¸­çš„æŸä¸ªå­åŸŸåã€‚</p><p>æ‰€ä»¥æ¯å‘èµ·ä¸€æ¬¡ DNS æŸ¥è¯¢ï¼Œä½ éƒ½å¾—å…ˆç­‰å¾…å‰ 4 æ¬¡æŸ¥è¯¢å¤±è´¥åæ‰èƒ½è·å–åˆ°æœ€ç»ˆæŸ¥è¯¢ç»“æœã€‚</p><h3 id="é—®é¢˜ï¼šéš¾ä»¥åˆ¤æ–­ç³»ç»Ÿä½¿ç”¨çš„-DNS-è§£æå™¨"><a href="#é—®é¢˜ï¼šéš¾ä»¥åˆ¤æ–­ç³»ç»Ÿä½¿ç”¨çš„-DNS-è§£æå™¨" class="headerlink" title="é—®é¢˜ï¼šéš¾ä»¥åˆ¤æ–­ç³»ç»Ÿä½¿ç”¨çš„ DNS è§£æå™¨"></a>é—®é¢˜ï¼šéš¾ä»¥åˆ¤æ–­ç³»ç»Ÿä½¿ç”¨çš„ DNS è§£æå™¨</h3><p>è¿™æœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä½†å½“ä½ é‡åˆ° DNS é—®é¢˜æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šè·Ÿ DNS è§£æå™¨æœ‰å…³ã€‚æˆ‘æ²¡æœ‰ä¸€ç§åˆ¤æ–­ DNS è§£æå™¨çš„ä¸‡èƒ½æ–¹æ³•ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘çŸ¥é“çš„æ–¹æ³•ï¼š</p><ul><li>åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œæœ€å¸¸è§çš„æ˜¯é€šè¿‡ <code>/etc/resolv.conf</code> æ¥é€‰æ‹© DNS è§£æå™¨ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–ï¼Œæ¯”å¦‚æµè§ˆå™¨å¯èƒ½ä¼šå¿½ç•¥ <code>/etc/resolv.conf</code>ï¼Œè€Œæ˜¯ä½¿ç”¨ <ruby>åŸºäº HTTPS çš„ DNS <rt>DNS-over-HTTPS</rt></ruby> æœåŠ¡ã€‚</li><li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ UDP DNSï¼Œä½ å¯ä»¥é€šè¿‡ <code>sudo tcpdump port 53</code> æ¥æŸ¥çœ‹ DNS è¯·æ±‚è¢«å‘é€åˆ°äº†å“ªé‡Œã€‚ä½†å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åŸºäº HTTPS çš„ DNS æˆ– <ruby>åŸºäº TLS çš„ DNS <rt>DNS over TLS</rt></ruby>ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¸è¡Œäº†ã€‚</li></ul><p>æˆ‘ä¾ç¨€è®°å¾—è¿™åœ¨ MacOS ç³»ç»Ÿä¸Šä¼šæ›´åŠ ä»¤äººè¿·æƒ‘ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šåŸå› ã€‚</p><h3 id="é—®é¢˜ï¼šDNS-æœåŠ¡å™¨è¿”å›-NXDOMAIN-è€Œä¸æ˜¯-NOERROR"><a href="#é—®é¢˜ï¼šDNS-æœåŠ¡å™¨è¿”å›-NXDOMAIN-è€Œä¸æ˜¯-NOERROR" class="headerlink" title="é—®é¢˜ï¼šDNS æœåŠ¡å™¨è¿”å› NXDOMAIN è€Œä¸æ˜¯ NOERROR"></a>é—®é¢˜ï¼šDNS æœåŠ¡å™¨è¿”å› NXDOMAIN è€Œä¸æ˜¯ NOERROR</h3><p>è¿™æ˜¯æˆ‘æ›¾ç»é‡åˆ°è¿‡çš„ä¸€ä¸ª Nginx ä¸èƒ½è§£æåŸŸåçš„é—®é¢˜ã€‚</p><ul><li>æˆ‘è®¾ç½® Nginx ä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„ DNS æœåŠ¡å™¨æ¥è§£æ DNS æŸ¥è¯¢</li><li>å½“è®¿é—®è¿™ä¸ªåŸŸåæ—¶ï¼ŒNginx åšäº†ä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬ä¸€æ¬¡æ˜¯å¯¹ <code>A</code> çš„ï¼Œç¬¬äºŒæ¬¡æ˜¯å¯¹ <code>AAAA</code> çš„</li><li>å¯¹äº <code>A</code> çš„æŸ¥è¯¢ï¼ŒDNS æœåŠ¡å™¨è¿”å› <code>NXDOMAIN</code></li><li>Nginx è®¤ä¸ºè¿™ä¸ªåŸŸåä¸å­˜åœ¨ï¼Œç„¶åæ”¾å¼ƒæŸ¥è¯¢</li><li>å¯¹äº <code>AAAA</code> çš„æŸ¥è¯¢ DNS æœåŠ¡å™¨è¿”å›äº†æˆåŠŸ</li><li>ä½† Nginx å¿½ç•¥äº†å¯¹ <code>AAAA</code> è¿”å›çš„æŸ¥è¯¢ç»“æœï¼Œå› ä¸ºå®ƒå‰é¢å·²ç»æ”¾å¼ƒæŸ¥è¯¢äº†</li></ul><p>é—®é¢˜å‡ºåœ¨ DNS æœåŠ¡å™¨æœ¬åº”è¯¥è¿”å› <code>NOERROR</code> çš„â€”â€”é‚£ä¸ªåŸŸåç¡®å®å­˜åœ¨ï¼Œåªæ˜¯æ²¡æœ‰å…³äº <code>A</code> çš„è®°å½•ç½¢äº†ã€‚æˆ‘æŠ¥å‘Šäº†è¿™ä¸ªé—®é¢˜ï¼Œç„¶åä»–ä»¬ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>æˆ‘è‡ªå·±ä¹Ÿå†™å‡ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ç†è§£ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µâ€”â€”å¾ˆå®¹æ˜“æƒ³å½“ç„¶åœ°è®¤ä¸ºâ€œæ²¡æœ‰è¦æŸ¥è¯¢çš„è®°å½•ï¼Œå°±åº”è¯¥è¿”å› <code>NXDOMAIN</code> é”™è¯¯ç â€ã€‚</p><h3 id="é—®é¢˜ï¼šè‡ªåŠ¨ç”Ÿæ•ˆçš„-DNS-ç¼“å­˜"><a href="#é—®é¢˜ï¼šè‡ªåŠ¨ç”Ÿæ•ˆçš„-DNS-ç¼“å­˜" class="headerlink" title="é—®é¢˜ï¼šè‡ªåŠ¨ç”Ÿæ•ˆçš„ DNS ç¼“å­˜"></a>é—®é¢˜ï¼šè‡ªåŠ¨ç”Ÿæ•ˆçš„ DNS ç¼“å­˜</h3><p>å¦‚æœä½ åœ¨ç”Ÿæˆä¸€ä¸ªåŸŸåçš„ DNS è®°å½•ä¹‹å‰å°±è®¿é—®è¿™ä¸ªåŸŸåï¼Œé‚£ä¹ˆè¿™ä¸ªè®°å½•çš„ç¼ºå¤±ä¼šè¢«ç¼“å­˜èµ·æ¥ã€‚å½“ä½ ç¬¬ä¸€æ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ä¸€å®šä¼šéå¸¸åƒæƒŠâ€”â€”æˆ‘ä¹Ÿæ˜¯å»å¹´æ‰çŸ¥é“æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p><p>ç¼“å­˜çš„ TTL å°±æ˜¯åŸŸåçš„ <ruby>èµ·å§‹æƒé™è®°å½• <rt>Start of Authority</rt></ruby>ï¼ˆSOAï¼‰ è®°å½•çš„ TTL â€”â€”æ¯”å¦‚å¯¹äº <code>jvns.ca</code> ï¼Œè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå°æ—¶ã€‚</p><h3 id="é—®é¢˜ï¼šNginx-æ°¸ä¹…ç¼“å­˜-DNS-è®°å½•"><a href="#é—®é¢˜ï¼šNginx-æ°¸ä¹…ç¼“å­˜-DNS-è®°å½•" class="headerlink" title="é—®é¢˜ï¼šNginx æ°¸ä¹…ç¼“å­˜ DNS è®°å½•"></a>é—®é¢˜ï¼šNginx æ°¸ä¹…ç¼“å­˜ DNS è®°å½•</h3><p>å¦‚æœä½ åœ¨ Nginx ä¸­ä½¿ç”¨ä¸‹é¢çš„é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    proxy_pass https://some.domain.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Nginx åªä¼šåœ¨å¯åŠ¨çš„æ—¶å€™è§£æä¸€æ¬¡ <code>some.domain.com</code>ï¼Œä»¥åä¸ä¼šå†å¯¹å…¶è¿›è¡Œè§£æã€‚è¿™æ˜¯éå¸¸å±é™©çš„æ“ä½œï¼Œå°¤å…¶æ˜¯å¯¹äºé‚£äº› IP åœ°å€ç»å¸¸å˜åŠ¨çš„åŸŸåã€‚å®ƒå¯èƒ½å¹³å®‰æ— äº‹åœ°è¿è¡Œå‡ ä¸ªæœˆï¼Œç„¶åçªç„¶åœ¨æŸä¸ªå‡Œæ™¨ä¸¤ç‚¹æŠŠä½ ä»åºŠä¸Šçº èµ·æ¥ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜å·²ç»æœ‰å¾ˆå¤šä¼—æ‰€å‘¨çŸ¥çš„æ–¹æ³•äº†ï¼Œä½†ç”±äºæœ¬æ–‡ä¸æ˜¯å…³äº Nginx çš„ï¼Œæ‰€ä»¥æˆ‘ä¸æ‰“ç®—æ·±å…¥æ¢è®¨å®ƒã€‚ä½†ä½ ç¬¬ä¸€æ¬¡é‡åˆ°å®ƒæ—¶ä¸€å®šä¼šå¾ˆæƒŠè®¶ã€‚</p><p>è¿™æ˜¯ä¸€ç¯‡å…³äºè¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨ AWS è´Ÿè½½å‡è¡¡å™¨ä¸Šçš„ <a target="_blank" rel="noopener" href="https://medium.com/driven-by-code/dynamic-dns-resolution-in-nginx-22133c22e3ab">åšå®¢æ–‡ç« </a>ã€‚</p><h3 id="é—®é¢˜ï¼šJava-æ°¸ä¹…ç¼“å­˜-DNS-è®°å½•"><a href="#é—®é¢˜ï¼šJava-æ°¸ä¹…ç¼“å­˜-DNS-è®°å½•" class="headerlink" title="é—®é¢˜ï¼šJava æ°¸ä¹…ç¼“å­˜ DNS è®°å½•"></a>é—®é¢˜ï¼šJava æ°¸ä¹…ç¼“å­˜ DNS è®°å½•</h3><p>è·Ÿä¸Šé¢ç±»ä¼¼çš„é—®é¢˜ï¼Œåªæ˜¯å‡ºç°åœ¨ Java ä¸Šï¼š<a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-jvm-ttl.html">æ®è¯´</a> è¿™ä¸ä½  Java çš„é…ç½®æœ‰å…³ã€‚â€œJVM çš„é»˜è®¤ TTL è®¾ç½®å¯èƒ½ä¼šå¯¼è‡´åªæœ‰ JVM é‡å¯æ—¶æ‰ä¼šåˆ·æ–° DNS è®°å½•ã€‚â€</p><p>æˆ‘è¿˜æ²¡æœ‰é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡æˆ‘é‚£äº›ç»å¸¸å†™ Java çš„æœ‹å‹é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚</p><p>å½“ç„¶ï¼Œä»»ä½•è½¯ä»¶éƒ½å¯èƒ½å­˜åœ¨æ°¸ä¹…ç¼“å­˜ DNS çš„é—®é¢˜ï¼Œä½†æ®æˆ‘æ‰€çŸ¥å®ƒç»å¸¸å‡ºç°åœ¨ Nginx å’Œ Java ä¸Šã€‚</p><h3 id="é—®é¢˜ï¼šè¢«é—å¿˜çš„-etc-hosts-è®°å½•"><a href="#é—®é¢˜ï¼šè¢«é—å¿˜çš„-etc-hosts-è®°å½•" class="headerlink" title="é—®é¢˜ï¼šè¢«é—å¿˜çš„ &#x2F;etc&#x2F;hosts è®°å½•"></a>é—®é¢˜ï¼šè¢«é—å¿˜çš„ &#x2F;etc&#x2F;hosts è®°å½•</h3><p>è¿™æ˜¯å¦ä¸€ç§ç¼“å­˜é—®é¢˜ï¼š<code>/etc/hosts</code> ä¸­çš„è®°å½•ä¼šè¦†ç›–ä½ çš„å¸¸è§„ DNS è®¾ç½®ï¼</p><p>è®©äººè¿·æƒ‘çš„æ˜¯ <code>dig</code> å‘½ä»¤ä¼šå¿½ç•¥ <code>/etc/hosts</code> æ–‡ä»¶ã€‚æ‰€ä»¥å½“ä½ ä½¿ç”¨ <code>dig whatever.com</code> æ¥æŸ¥è¯¢ DNS ä¿¡æ¯æ—¶ï¼Œå®ƒä¼šå‘Šè¯‰ä½ ä¸€åˆ‡æ­£å¸¸ã€‚</p><h3 id="é—®é¢˜ï¼šç”µå­é‚®ä»¶æœªå‘é€-å°†æˆä¸ºåƒåœ¾é‚®ä»¶"><a href="#é—®é¢˜ï¼šç”µå­é‚®ä»¶æœªå‘é€-å°†æˆä¸ºåƒåœ¾é‚®ä»¶" class="headerlink" title="é—®é¢˜ï¼šç”µå­é‚®ä»¶æœªå‘é€ &#x2F; å°†æˆä¸ºåƒåœ¾é‚®ä»¶"></a>é—®é¢˜ï¼šç”µå­é‚®ä»¶æœªå‘é€ &#x2F; å°†æˆä¸ºåƒåœ¾é‚®ä»¶</h3><p>ç”µå­é‚®ä»¶æ˜¯é€šè¿‡ DNSï¼ˆMX è®°å½•, SPF è®°å½•, DKIM è®°å½•ï¼‰æ¥å‘é€å’ŒéªŒè¯çš„ï¼Œæ‰€ä»¥æœ‰äº›ç”µå­é‚®ä»¶é—®é¢˜å…¶å®æ˜¯ DNS é—®é¢˜ã€‚</p><h3 id="é—®é¢˜ï¼šå¯¹å›½é™…åŒ–åŸŸåæ— æ•ˆ"><a href="#é—®é¢˜ï¼šå¯¹å›½é™…åŒ–åŸŸåæ— æ•ˆ" class="headerlink" title="é—®é¢˜ï¼šå¯¹å›½é™…åŒ–åŸŸåæ— æ•ˆ"></a>é—®é¢˜ï¼šå¯¹å›½é™…åŒ–åŸŸåæ— æ•ˆ</h3><p>ä½ å¯ä»¥ä½¿ç”¨é ASCII å­—ç¬¦ç”šè‡³æ˜¯è¡¨æƒ…ç¬¦æ¥æ³¨å†ŒåŸŸåï¼Œæ¯”å¦‚ <a target="_blank" rel="noopener" href="https://ğŸ’©.la/">æ‹‰å±ç½‘ https:&#x2F;&#x2F;?.la</a>ã€‚</p><p>DNS èƒ½å¤Ÿå¤„ç†å›½é™…åŒ–åŸŸåæ˜¯å› ä¸º <code>?.la</code> ä¼šè¢«ç”¨ punycode ç¼–ç å°†è½¬æ¢ä¸º <code>xn--ls8h.la</code>ã€‚</p><p>å°½ç®¡å·²ç»æœ‰äº† DNS å¤„ç†å›½é™…åŒ–åŸŸåçš„æ ‡å‡†ï¼Œå¾ˆå¤šè½¯ä»¶å¹¶ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†å›½é™…åŒ–åŸŸåã€‚Julian Squires çš„ <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=UE-fJjMasec">å¹²æ‰ Chrome æµè§ˆå™¨çš„è¡¨æƒ…ç¬¦ï¼ï¼</a> å°±æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ä¾‹å­ã€‚</p><h3 id="é—®é¢˜ï¼šTCP-DNS-è¢«é˜²ç«å¢™æ‹¦æˆª"><a href="#é—®é¢˜ï¼šTCP-DNS-è¢«é˜²ç«å¢™æ‹¦æˆª" class="headerlink" title="é—®é¢˜ï¼šTCP DNS è¢«é˜²ç«å¢™æ‹¦æˆª"></a>é—®é¢˜ï¼šTCP DNS è¢«é˜²ç«å¢™æ‹¦æˆª</h3><p>æœ‰äººæåˆ°ä¸€äº›é˜²ç«å¢™ä¼šå…è®¸åœ¨ 53 ç«¯å£ä¸Šä½¿ç”¨ UDP åè®®ï¼Œä½†æ˜¯ç¦æ­¢ TCP åè®®ã€‚ç„¶è€Œå¾ˆå¤š DNS æŸ¥è¯¢éœ€è¦åœ¨ 53 ç«¯å£ä¸Šä½¿ç”¨ TCPï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å¾ˆéš¾æ’æŸ¥çš„é—´æ­‡æ€§çš„é—®é¢˜ã€‚</p><h3 id="é—®é¢˜ï¼šmusl-ä¸æ”¯æŒ-TCP-DNS"><a href="#é—®é¢˜ï¼šmusl-ä¸æ”¯æŒ-TCP-DNS" class="headerlink" title="é—®é¢˜ï¼šmusl ä¸æ”¯æŒ TCP DNS"></a>é—®é¢˜ï¼šmusl ä¸æ”¯æŒ TCP DNS</h3><p>å¾ˆå¤šåº”ç”¨ç¨‹åºä½¿ç”¨ <code>libc</code> çš„ <code>getaddrinfo</code> æ¥åš DNS æŸ¥è¯¢ã€‚<code>musl</code> æ˜¯ç”¨åœ¨ Alpine Docker å®¹å™¨ä¸Šçš„ <code>glibc</code> æ›¿ä»£å“ã€‚è€Œå®ƒä¸æ”¯æŒ TCP DNSã€‚å¦‚æœä½ çš„ DNS æŸ¥è¯¢çš„å“åº”æ•°æ®è¶…è¿‡ DNS UDP æ•°æ®åŒ…çš„å¤§å°ï¼ˆ512 å­—èŠ‚ï¼‰å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>æˆ‘å¯¹æ­¤ä»ç„¶ä¸å¤ªæ¸…æ¥šï¼Œæˆ‘ä¸‹é¢æˆ‘çš„ç†è§£ä¹Ÿå¯èƒ½æ˜¯é”™çš„:</p><ol><li><code>musl</code> çš„ <code>getaddrinfo</code> å‘èµ·ä¸€ä¸ª DNS è¯·æ±‚</li><li>DNS æœåŠ¡å™¨å‘ç°è¯·æ±‚çš„å“åº”æ•°æ®å¤ªå¤§äº†ï¼Œæ²¡æ³•æ”¾å…¥ä¸€ä¸ª DNS æ•°æ®åŒ…ä¸­</li><li>DNS æœåŠ¡å™¨è¿”å›ä¸€ä¸ª<ruby>ç©ºæˆªæ–­å“åº” <rt>empty truncated response</rt></ruby>ï¼Œå¹¶æœŸæœ›å®¢æˆ·ç«¯é€šè¿‡ TCP DNS é‡æ–°ç”¨å‘èµ·æŸ¥è¯¢</li><li>ä½† <code>musl</code> ä¸æ”¯æŒ TCP DNSï¼Œæ‰€ä»¥æ ¹æœ¬ä¸ä¼šé‡è¯•</li></ol><p>å…³äºè¿™ä¸ªé—®é¢˜çš„æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://christoph.luppri.ch/fixing-dns-resolution-for-ruby-on-alpine-linux">åœ¨ Alpine Linux ä¸Šçš„ DNS è§£æé—®é¢˜</a>ã€‚</p><h3 id="é—®é¢˜ï¼šgetaddrinfo-ä¸æ”¯æŒè½®è¯¢-DNS"><a href="#é—®é¢˜ï¼šgetaddrinfo-ä¸æ”¯æŒè½®è¯¢-DNS" class="headerlink" title="é—®é¢˜ï¼šgetaddrinfo ä¸æ”¯æŒè½®è¯¢ DNS"></a>é—®é¢˜ï¼šgetaddrinfo ä¸æ”¯æŒè½®è¯¢ DNS</h3><p><ruby>è½®è¯¢ <rt>round robin</rt></ruby> DNS æ˜¯ä¸€ç§ <ruby>è´Ÿè½½å‡è¡¡ <rt>load balancing</rt></ruby> æŠ€æœ¯ï¼Œæ¯æ¬¡ DNS æŸ¥è¯¢éƒ½ä¼šè·å¾—ä¸€ä¸ªä¸åŒçš„ IP åœ°å€ã€‚æ˜¾ç„¶å¦‚æœä½ ä½¿ç”¨ <code>gethostbyname</code> åš DNS æŸ¥è¯¢ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯ç”¨ <code>getaddrinfo</code> å°±ä¸è¡Œäº†ã€‚å› ä¸º <code>getaddrinfo</code> ä¼šå¯¹è·å¾—çš„ IP åœ°å€è¿›è¡Œæ’åºã€‚</p><p>åœ¨ä½ ä» <code>gethostbyname</code> åˆ‡æ¢åˆ° <code>getaddrinfo</code> æ—¶å¯èƒ½å®Œå…¨ä¸ä¼šæ„è¯†åˆ°è¿™å¯èƒ½ä¼šå¼•èµ·è´Ÿè½½å‡è¡¡é—®é¢˜ã€‚</p><p>è¿™ä¸ªé—®é¢˜å¯èƒ½ä¼šéå¸¸éšè”½ï¼Œå¦‚æœä½ ä¸æ˜¯ç”¨ C è¯­è¨€ç¼–ç¨‹çš„è¯ï¼Œè¿™äº›å‡½æ•°è°ƒç”¨è¢«éšè—åœ¨å„ç§è°ƒç”¨åº“èƒŒåï¼Œä½ å¯èƒ½å®Œå…¨æ„è¯†ä¸åˆ°å‘ç”Ÿäº†è¿™ç§æ”¹å˜ã€‚æ‰€ä»¥æŸæ¬¡çœ‹ä¼¼äººç•œæ— å®³çš„å‡çº§å°±å¯èƒ½å¯¼è‡´ä½ çš„ DNS è´Ÿè½½å‡è¡¡å¤±æ•ˆã€‚</p><p>ä¸‹é¢æ˜¯è®¨è®ºè¿™ä¸ªçš„ä¸€äº›æ–‡ç« ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://groups.google.com/g/consul-tool/c/AGgPjrrkw3g">getaddrinfo å¯¼è‡´è½®è¯¢ DNS å¤±æ•ˆ</a></li><li><a target="_blank" rel="noopener" href="https://daniel.haxx.se/blog/2012/01/03/getaddrinfo-with-round-robin-dns-and-happy-eyeballs/">getaddrinfoï¼Œè½®è¯¢ DNS å’Œ happy eyeballs ç®—æ³•</a></li></ul><h3 id="é—®é¢˜ï¼šå¯åŠ¨æœåŠ¡æ—¶çš„ç«äº‰æ¡ä»¶"><a href="#é—®é¢˜ï¼šå¯åŠ¨æœåŠ¡æ—¶çš„ç«äº‰æ¡ä»¶" class="headerlink" title="é—®é¢˜ï¼šå¯åŠ¨æœåŠ¡æ—¶çš„ç«äº‰æ¡ä»¶"></a>é—®é¢˜ï¼šå¯åŠ¨æœåŠ¡æ—¶çš„ç«äº‰æ¡ä»¶</h3><p>æœ‰äºº <a target="_blank" rel="noopener" href="https://mobile.twitter.com/omatskiv/status/1481305175440646148">æåˆ°</a> ä½¿ç”¨ Kubernete DNS æ—¶é‡åˆ°çš„é—®é¢˜ï¼šä»–ä»¬æœ‰ä¸¤ä¸ªåŒæ—¶å¯åŠ¨çš„å®¹å™¨ï¼Œä¸€æ—¦å¯åŠ¨å°±ä¼šç«‹å³å°è¯•è§£æå¯¹æ–¹çš„åœ°å€ã€‚ç”±äº Kubernete DNS è¿˜æ²¡æœ‰æ”¹å˜ï¼Œæ‰€ä»¥ DNS æŸ¥è¯¢ä¼šå¤±è´¥ã€‚è¿™ä¸ªå¤±è´¥ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œæ‰€ä»¥åç»­çš„æŸ¥è¯¢ä¼šä¸€ç›´å¤±è´¥ã€‚</p><h3 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h3><p>æˆ‘æ‰€åˆ—ä¸¾çš„ä¸è¿‡æ˜¯ DNS é—®é¢˜çš„å†°å±±ä¸€è§’ï¼ŒæœŸå¾…å¤§å®¶å‘Šè¯‰æˆ‘é‚£äº›æˆ‘æ²¡æœ‰æåˆ°çš„é—®é¢˜å’Œç›¸å…³é“¾æ¥ã€‚æˆ‘å¸Œæœ›äº†è§£è¿™äº›é—®é¢˜åœ¨å®é™…ä¸­æ˜¯å¦‚ä½•å‘ç”Ÿçš„ä»¥åŠå¦‚ä½•è¢«è§£å†³çš„ã€‚</p><p><em>ï¼ˆé¢˜å›¾ï¼šMJ&#x2F;f512f18e-2e1d-4614-bed1-b0a0c373e14dï¼‰</em></p><hr><p>via: <a target="_blank" rel="noopener" href="https://jvns.ca/blog/2022/01/15/some-ways-dns-can-break/">https://jvns.ca/blog/2022/01/15/some-ways-dns-can-break/</a></p><p>ä½œè€…ï¼š<a target="_blank" rel="noopener" href="https://jvns.ca/">Julia Evans</a> é€‰é¢˜ï¼š<a target="_blank" rel="noopener" href="https://github.com/lujun9972">lujun9972</a> è¯‘è€…ï¼š<a target="_blank" rel="noopener" href="https://github.com/toknow-gh">toknow-gh</a> æ ¡å¯¹ï¼š<a target="_blank" rel="noopener" href="https://github.com/wxy">wxy</a></p><p>æœ¬æ–‡ç”± <a target="_blank" rel="noopener" href="https://github.com/LCTT/TranslateProject">LCTT</a> åŸåˆ›ç¼–è¯‘ï¼Œ<a target="_blank" rel="noopener" href="https://linux.cn/">Linuxä¸­å›½</a> è£èª‰æ¨å‡º</p></div></div></div><div class="footer"><p class="footer-copyright"><span>Powered by <a target="_blank" href="https://hexo.io">Hexo</a></span> <span>Theme <a target="_blank" href="https://github.com/tinkink-co/hexo-theme-terminal">Terminal</a></span><script type="text/javascript" src="https://cdn.staticfile.net/jquery/3.4.1/jquery.min.js"></script><script>getCDNinfo=function(){$.ajax({url:"/cdn-cgi/trace",success:function(a,n){let i="Antananarivo, Madagascar - (TNR);Cape Town, South Africa - (CPT);Casablanca, Morocco - (CMN);Dar Es Salaam, Tanzania - (DAR);Djibouti City, Djibouti - (JIB);Durban, South Africa - (DUR);Johannesburg, South Africa - (JNB);Kigali, Rwanda - (KGL);Lagos, Nigeria - (LOS);Luanda, Angola - (LAD);Maputo, MZ - (MPM);Mombasa, Kenya - (MBA);Port Louis, Mauritius - (MRU);RÃ©union, France - (RUN);Bangalore, India - (BLR);Bangkok, Thailand - (BKK);Bandar Seri Begawan, Brunei - (BWN);Cebu, Philippines - (CEB);Chengdu, China - (CTU);Chennai, India - (MAA);Chittagong, Bangladesh - (CGP);Chongqing, China - (CKG);Colombo, Sri Lanka - (CMB);Dhaka, Bangladesh - (DAC);Dongguan, China - (SZX);Foshan, China - (FUO);Fuzhou, China - (FOC);Guangzhou, China - (CAN);Hangzhou, China - (HGH);Hanoi, Vietnam - (HAN);Hengyang, China - (HNY);Ho Chi Minh City, Vietnam - (SGN);Hong Kong - (HKG);Hyderabad, India - (HYD);Islamabad, Pakistan - (ISB);Jakarta, Indonesia - (CGK);Jinan, China - (TNA);Karachi, Pakistan - (KHI);Kathmandu, Nepal - (KTM);Kolkata, India - (CCU);Kuala Lumpur, Malaysia - (KUL);Lahore, Pakistan - (LHE);Langfang, China - (NAY);Luoyang, China - (LYA);Macau - (MFM);MalÃ©, Maldives - (MLE);Manila, Philippines - (MNL);Mumbai, India - (BOM);Nagpur, India - (NAG);Nanning, China - (NNG);New Delhi, India - (DEL);Osaka, Japan - (KIX);Phnom Penh, Cambodia - (PNH);Qingdao, China - (TAO);Seoul, South Korea - (ICN);Shanghai, China - (SHA);Shenyang, China - (SHE);Shijiazhuang, China - (SJW);Singapore, Singapore - (SIN);Suzhou, China - (SZV);Taipei - (TPE);Thimphu, Bhutan - (PBH);Tianjin, China - (TSN);Tokyo, Japan - (NRT);Ulaanbaatar, Mongolia - (ULN);Vientiane, Laos - (VTE);Wuhan, China - (WUH);Wuxi, China - (WUX);Xi'an, China - (XIY);Yerevan, Armenia - (EVN);Zhengzhou, China - (CGO);Zuzhou, China - (CSX);Amsterdam, Netherlands - (AMS);Athens, Greece - (ATH);Barcelona, Spain - (BCN);Belgrade, Serbia - (BEG);Berlin, Germany - (TXL);Brussels, Belgium - (BRU);Bucharest, Romania - (OTP);Budapest, Hungary - (BUD);ChiÈ™inÄƒu, Moldova - (KIV);Copenhagen, Denmark - (CPH);Cork, Ireland -  (ORK);Dublin, Ireland - (DUB);DÃ¼sseldorf, Germany - (DUS);Edinburgh, United Kingdom - (EDI);Frankfurt, Germany - (FRA);Geneva, Switzerland - (GVA);Gothenburg, Sweden - (GOT);Hamburg, Germany - (HAM);Helsinki, Finland - (HEL);Istanbul, Turkey - (IST);Kyiv, Ukraine - (KBP);Lisbon, Portugal - (LIS);London, United Kingdom - (LHR);Luxembourg City, Luxembourg - (LUX);Madrid, Spain - (MAD);Manchester, United Kingdom - (MAN);Marseille, France - (MRS);Milan, Italy - (MXP);Moscow, Russia - (DME);Munich, Germany - (MUC);Nicosia, Cyprus - (LCA);Oslo, Norway - (OSL);Paris, France - (CDG);Prague, Czech Republic - (PRG);ReykjavÃ­k, Iceland - (KEF);Riga, Latvia - (RIX);Rome, Italy - (FCO);Saint Petersburg, Russia - (LED);Sofia, Bulgaria - (SOF);Stockholm, Sweden - (ARN);Tallinn, Estonia - (TLL);Thessaloniki, Greece - (SKG);Vienna, Austria - (VIE);Vilnius, Lithuania - (VNO);Warsaw, Poland - (WAW);Zagreb, Croatia - (ZAG);ZÃ¼rich, Switzerland - (ZRH);Arica, Chile - (ARI);AsunciÃ³n, Paraguay - (ASU);BogotÃ¡, Colombia - (BOG);Buenos Aires, Argentina - (EZE);Curitiba, Brazil - (CWB);Fortaleza, Brazil - (FOR);Guatemala City, Guatemala - (GUA);Lima, Peru - (LIM);MedellÃ­n, Colombia - (MDE);Panama City, Panama - (PTY);Porto Alegre, Brazil - (POA);Quito, Ecuador - (UIO);Rio de Janeiro, Brazil - (GIG);SÃ£o Paulo, Brazil - (GRU);Santiago, Chile - (SCL);Willemstad, CuraÃ§ao - (CUR);St. George's, Grenada - (GND);Amman, Jordan - (AMM);Baghdad, Iraq - (BGW);Baku, Azerbaijan - (GYD);Beirut, Lebanon - (BEY);Doha, Qatar - (DOH);Dubai, United Arab Emirates - (DXB);Kuwait City, Kuwait - (KWI);Manama, Bahrain - (BAH);Muscat, Oman - (MCT);Ramallah - (ZDM);Riyadh, Saudi Arabia - (RUH);Tel Aviv, Israel - (TLV);Ashburn, VA, United States - (IAD);Atlanta, GA, United States - (ATL);Boston, MA, United States - (BOS);Buffalo, NY, United States - (BUF);Calgary, AB, Canada - (YYC);Charlotte, NC, United States - (CLT);Chicago, IL, United States - (ORD);Columbus, OH, United States - (CMH);Dallas, TX, United States - (DFW);Denver, CO, United States - (DEN);Detroit, MI, United States - (DTW);Honolulu, HI, United States - (HNL);Houston, TX, United States - (IAH);Indianapolis, IN, United States - (IND);Jacksonville, FL, United States - (JAX);Kansas City, MO, United States - (MCI);Las Vegas, NV, United States - (LAS);Los Angeles, CA, United States - (LAX);McAllen, TX, United States - (MFE);Memphis, TN, United States - (MEM);Mexico City, Mexico - (MEX);Miami, FL, United States - (MIA);Minneapolis, MN, United States - (MSP);Montgomery, AL, United States - (MGM);MontrÃ©al, QC, Canada - (YUL);Nashville, TN, United States - (BNA);Newark, NJ, United States - (EWR);Norfolk, VA, United States - (ORF);Omaha, NE, United States - (OMA);Philadelphia, United States - (PHL);Phoenix, AZ, United States - (PHX);Pittsburgh, PA, United States - (PIT);Port-Au-Prince, Haiti - (PAP);Portland, OR, United States - (PDX);Queretaro, MX, Mexico - (QRO);Richmond, Virginia - (RIC);Sacramento, CA, United States - (SMF);Salt Lake City, UT, United States - (SLC);San Diego, CA, United States - (SAN);San Jose, CA, United States - (SJC);Saskatoon, SK, Canada - (YXE);Seattle, WA, United States - (SEA);St. Louis, MO, United States - (STL);Tampa, FL, United States - (TPA);Toronto, ON, Canada - (YYZ);Vancouver, BC, Canada - (YVR);Tallahassee, FL, United States - (TLH);Winnipeg, MB, Canada - (YWG);Adelaide, SA, Australia - (ADL);Auckland, New Zealand - (AKL);Brisbane, QLD, Australia - (BNE);Melbourne, VIC, Australia - (MEL);Noumea, New caledonia - (NOU);Perth, WA, Australia - (PER);Sydney, NSW, Australia - (SYD)".split(";"),e=a.split("colo=")[1].split("\n")[0],t=(a.split("colo=")[1].split("\n")[0],a.split("tls=")[1].split("\n")[0]),o=a.split("http=")[1].split("\n")[0],s=a.split("sni=")[1].split("\n")[0],r=a.split("ip=")[1].split("\n")[0],l=a.split("uag=")[1].split("\n")[0];for(var d=0;d<i.length;d++)if(-1!=i[d].indexOf(e)){document.getElementById("cdn").innerHTML=i[d];break}document.getElementById("tls").innerHTML=t,document.getElementById("http").innerHTML=o,document.getElementById("sni").innerHTML=s,document.getElementById("ip").innerHTML=r,document.getElementById("useragent").innerHTML=l}})},$(document).ready((function(){getCDNinfo()}))</script></p><p style="text-align:center">æ„Ÿè°¢é™ªä¼´ä¸å¸ƒé“ï¼Œå¼€æºä¹‹ç«ä¸ç­ã€‚â€‹</p><p style="text-align:center"><script>document.write("æœ¬æ¬¡åŠ è½½è€—æ—¶: "+(performance.getEntriesByType("navigation").reduce((e,r)=>e+r.responseEnd-r.startTime,0)+performance.getEntriesByType("resource").reduce((e,r)=>e+r.responseEnd-r.startTime,0)).toFixed(0)+"ms")</script></p><p style="text-align:center">å½“å‰ SNI çŠ¶æ€ï¼š <span id="sni">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p style="text-align:center">å½“å‰ TLS ç‰ˆæœ¬ï¼š <span id="tls">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p style="text-align:center">å½“å‰ HTTP ç‰ˆæœ¬ï¼š <span id="http">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p style="text-align:center">å½“å‰æ‚¨çš„å®¢æˆ·ç«¯ IP æ˜¯ï¼š <span id="ip">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p style="text-align:center">å½“å‰åˆ†é…çš„ CDN èŠ‚ç‚¹æ˜¯: <span id="cdn">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p style="text-align:center">æ‚¨çš„ UserAgent ä¿¡æ¯æ˜¯: <span id="useragent">æ­£åœ¨ç»Ÿè®¡ï¼æˆ–å¯èƒ½è¢«æµè§ˆå™¨é˜²è¿½è¸ªæ‹¦æˆªï¼</span></p><p></p><script defer src="https://pv.undefined.today/tracker.min.js" data-website-id="LinuxCNMirror-tracker"></script></div></div></body></html>