<!doctype html><html lang="en"><head><meta name="msvalidate.01" content="D404690CEFCB54C7762AC84935B99171"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6618da70c90c8744eead2e9371fb5077";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">!function(t,e,n,c,s,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/s5f3f0tojf",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/theme.css"><link rel="shortcut icon" href="/favicon.png"><title>管理 Linux 系统中的用户 - 归墟星火集</title><meta name="generator" content="Hexo 7.3.0"></head><body><div class="header-title"><span class="header-light"></span> <span class="header-light"></span> <span class="header-light"></span> <span>归墟星火集 linuxcn.undefined.today<span></span></span></div><div class="container"><ul class="nav"><li><a href="/">首页</a></li><li><a href="/about/">关于</a></li><li><a target="_blank" rel="noopener" href="https://undefined.today/">Blog</a></li></ul><div class="content"><div class="post-container"><div class="post-header"><span class="ui-tips">标题：</span><h1 class="ui-keyword post-title">管理 Linux 系统中的用户</h1><span class="post-date">2018-10-10</span></div><div class="post-header"><span class="ui-tips">分类：</span> <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></div><div class="post-header"><span class="ui-tips">标签：</span> <a href="/tags/%E7%94%A8%E6%88%B7/">用户</a></div><div class="post-content"><p><img src="https://linuxcn.img.undefined.today/data/attachment/album/201810/10/131228je3yc8i3ttyaa3ot.jpg"></p><p>也许你的 Linux 用户并不是愤怒的公牛，但是当涉及管理他们的账户的时候，能让他们一直满意也是一种挑战。你需要监控他们的访问权限，跟进他们遇到问题时的解决方案，并且把他们在使用系统时出现的重要变动记录下来。这里有一些方法和工具可以让这个工作轻松一点。</p><h3 id="配置账户"><a href="#配置账户" class="headerlink" title="配置账户"></a>配置账户</h3><p>添加和删除账户是管理用户中比较简单的一项，但是这里面仍然有很多需要考虑的方面。无论你是用桌面工具或是命令行选项，这都是一个非常自动化的过程。你可以使用 <code>adduser jdoe</code> 命令添加一个新用户，同时会触发一系列的反应。在创建 John 这个账户时会自动使用下一个可用的 UID，并有很多自动生成的文件来完成这个工作。当你运行 <code>adduser</code> 后跟一个参数时（要创建的用户名），它会提示一些额外的信息，同时解释这是在干什么。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ sudo adduser jdoe</span><br><span class="line">Adding user &#x27;jdoe&#x27; ...</span><br><span class="line">Adding new group `jdoe&#x27; (1001) ...</span><br><span class="line">Adding new user `jdoe&#x27; (1001) with group `jdoe&#x27; ...</span><br><span class="line">Creating home directory `/home/jdoe&#x27; ...</span><br><span class="line">Copying files from `/etc/skel&#x27; …</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information for jdoe</span><br><span class="line">Enter the new value, or press ENTER for the default</span><br><span class="line">    Full Name []: John Doe</span><br><span class="line">    Room Number []:</span><br><span class="line">    Work Phone []:</span><br><span class="line">    Home Phone []:</span><br><span class="line">    Other []:</span><br><span class="line">Is the information correct? [Y/n] Y</span><br></pre></td></tr></table></figure><p>如你所见，<code>adduser</code> 会添加用户的信息（到 <code>/etc/passwd</code> 和 <code>/etc/shadow</code> 文件中），创建新的<ruby>家目录 <rt>home directory</rt></ruby>，并用 <code>/etc/skel</code> 里设置的文件填充家目录，提示你分配初始密码和认证信息，然后确认这些信息都是正确的，如果你在最后的提示 “Is the information correct?” 处的回答是 “n”，它会回溯你之前所有的回答，允许修改任何你想要修改的地方。</p><p>创建好一个用户后，你可能会想要确认一下它是否是你期望的样子，更好的方法是确保在添加第一个帐户<strong>之前</strong>，“自动”选择与你想要查看的内容是否匹配。默认有默认的好处，它对于你想知道他们定义在哪里很有用，以便你想做出一些变动 —— 例如，你不想让用户的家目录在 <code>/home</code> 里，你不想让用户 UID 从 1000 开始，或是你不想让家目录下的文件被系统中的<strong>每个人</strong>都可读。</p><p><code>adduser</code> 的一些配置细节设置在 <code>/etc/adduser.conf</code> 文件里。这个文件包含的一些配置项决定了一个新的账户如何配置，以及它之后的样子。注意，注释和空白行将会在输出中被忽略，因此我们更关注配置项。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/adduser.conf | grep -v &quot;^#&quot; | grep -v &quot;^$&quot;</span><br><span class="line">DSHELL=/bin/bash</span><br><span class="line">DHOME=/home</span><br><span class="line">GROUPHOMES=no</span><br><span class="line">LETTERHOMES=no</span><br><span class="line">SKEL=/etc/skel</span><br><span class="line">FIRST_SYSTEM_UID=100</span><br><span class="line">LAST_SYSTEM_UID=999</span><br><span class="line">FIRST_SYSTEM_GID=100</span><br><span class="line">LAST_SYSTEM_GID=999</span><br><span class="line">FIRST_UID=1000</span><br><span class="line">LAST_UID=29999</span><br><span class="line">FIRST_GID=1000</span><br><span class="line">LAST_GID=29999</span><br><span class="line">USERGROUPS=yes</span><br><span class="line">USERS_GID=100</span><br><span class="line">DIR_MODE=0755</span><br><span class="line">SETGID_HOME=no</span><br><span class="line">QUOTAUSER=&quot;&quot;</span><br><span class="line">SKEL_IGNORE_REGEX=&quot;dpkg-(old|new|dist|save)&quot;</span><br></pre></td></tr></table></figure><p>可以看到，我们有了一个默认的 shell（<code>DSHELL</code>），UID（<code>FIRST_UID</code>）的起始值，家目录（<code>DHOME</code>）的位置，以及启动文件（<code>SKEL</code>）的来源位置。这个文件也会指定分配给家目录（<code>DIR_HOME</code>）的权限。</p><p>其中 <code>DIR_HOME</code> 是最重要的设置，它决定了每个家目录被使用的权限。这个设置分配给用户创建的目录权限是 755，家目录的权限将会设置为 <code>rwxr-xr-x</code>。用户可以读其他用户的文件，但是不能修改和移除它们。如果你想要更多的限制，你可以更改这个设置为 750（用户组外的任何人都不可访问）甚至是 700（除用户自己外的人都不可访问）。</p><p>任何用户账号在创建之前都可以进行手动修改。例如，你可以编辑 <code>/etc/passwd</code> 或者修改家目录的权限，开始在新服务器上添加用户之前配置 <code>/etc/adduser.conf</code> 可以确保一定的一致性，从长远来看可以节省时间和避免一些麻烦。</p><p><code>/etc/adduser.conf</code> 的修改将会在之后创建的用户上生效。如果你想以不同的方式设置某个特定账户，除了用户名之外，你还可以选择使用 <code>adduser</code> 命令提供账户配置选项。或许你想为某些账户分配不同的 shell，分配特殊的 UID，或完全禁用该账户登录。<code>adduser</code> 的帮助页将会为你显示一些配置个人账户的选择。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adduser [options] [--home DIR] [--shell SHELL] [--no-create-home]</span><br><span class="line">[--uid ID] [--firstuid ID] [--lastuid ID] [--ingroup GROUP | --gid ID]</span><br><span class="line">[--disabled-password] [--disabled-login] [--gecos GECOS]</span><br><span class="line">[--add_extra_groups] [--encrypt-home] user</span><br></pre></td></tr></table></figure><p>每个 Linux 系统现在都会默认把每个用户放入对应的组中。作为一个管理员，你可能会选择以不同的方式。你也许会发现把用户放在一个共享组中更适合你的站点，你就可以选择使用 <code>adduser</code> 的 <code>--gid</code> 选项指定一个特定的组。当然，用户总是许多组的成员，因此也有一些选项来管理主要和次要的组。</p><h3 id="处理用户密码"><a href="#处理用户密码" class="headerlink" title="处理用户密码"></a>处理用户密码</h3><p>一直以来，知道其他人的密码都不是一件好事，在设置账户时，管理员通常使用一个临时密码，然后在用户第一次登录时运行一条命令强制他修改密码。这里是一个例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chage -d 0 jdoe</span><br></pre></td></tr></table></figure><p>当用户第一次登录时，会看到类似下面的提示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Your password has expired.</span><br><span class="line">You must change your password now and login again!</span><br><span class="line">Changing password for jdoe.</span><br><span class="line">(current) UNIX password:</span><br></pre></td></tr></table></figure><h3 id="添加用户到副组"><a href="#添加用户到副组" class="headerlink" title="添加用户到副组"></a>添加用户到副组</h3><p>添加用户到副组中，你可能会用如下所示的 <code>usermod</code> 命令添加用户到组中并确认已经做出变动。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo usermod -a -G sudo jdoe</span><br><span class="line">$ sudo grep sudo /etc/group</span><br><span class="line">sudo:x:27:shs,jdoe</span><br></pre></td></tr></table></figure><p>记住在一些组意味着特别的权限，如 sudo 或者 wheel 组，一定要特别注意这一点。</p><h3 id="移除用户，添加组等"><a href="#移除用户，添加组等" class="headerlink" title="移除用户，添加组等"></a>移除用户，添加组等</h3><p>Linux 系统也提供了移除账户，添加新的组，移除组等一些命令。例如，<code>deluser</code> 命令，将会从 <code>/etc/passwd</code> 和 <code>/etc/shadow</code> 中移除用户记录，但是会完整保留其家目录，除非你添加了 <code>--remove-home</code> 或者 <code>--remove-all-files</code> 选项。<code>addgroup</code> 命令会添加一个组，默认按目前组的次序分配下一个 id（在用户组范围内），除非你使用 <code>--gid</code> 选项指定 id。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo addgroup testgroup --gid=131</span><br><span class="line">Adding group `testgroup&#x27; (GID 131) ...</span><br><span class="line">Done.</span><br></pre></td></tr></table></figure><h3 id="管理特权账户"><a href="#管理特权账户" class="headerlink" title="管理特权账户"></a>管理特权账户</h3><p>一些 Linux 系统中有一个 wheel 组，它给组中成员赋予了像 root 一样运行命令的权限。在这种情况下，<code>/etc/sudoers</code> 将会引用该组。在 Debian 系统中，这个组被叫做 sudo，但是原理是相同的，你在 <code>/etc/sudoers</code> 中可以看到像这样的信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sudo   ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure><p>这行基本的配置意味着任何在 wheel 或者 sudo 组中的成员只要在他们运行的命令之前添加 <code>sudo</code>，就可以以 root 的权限去运行命令。</p><p>你可以向 sudoers 文件中添加更多有限的权限 —— 也许给特定用户几个能以 root 运行的命令。如果你是这样做的，你应该定期查看 <code>/etc/sudoers</code> 文件以评估用户拥有的权限，以及仍然需要提供的权限。</p><p>在下面显示的命令中，我们过滤了 <code>/etc/sudoers</code> 中有效的配置行。其中最有意思的是，它包含了能使用 <code>sudo</code> 运行命令的路径设置，以及两个允许通过 <code>sudo</code> 运行命令的组。像刚才提到的那样，单个用户可以通过包含在 sudoers 文件中来获得权限，但是更有实际意义的方法是通过组成员来定义各自的权限。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cat /etc/sudoers | grep -v &quot;^#&quot; | grep -v &quot;^$&quot;</span><br><span class="line">Defaults env_reset</span><br><span class="line">Defaults mail_badpass</span><br><span class="line">Defaults secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin&quot;</span><br><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line">%admin  ALL=(ALL) ALL       &lt;== admin group</span><br><span class="line">%sudo   ALL=(ALL:ALL) ALL   &lt;== sudo group</span><br></pre></td></tr></table></figure><h3 id="登录检查"><a href="#登录检查" class="headerlink" title="登录检查"></a>登录检查</h3><p>你可以通过以下命令查看用户的上一次登录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># last jdoe</span><br><span class="line">jdoe pts/18 192.168.0.11 Thu Sep 14 08:44 - 11:48 (00:04)</span><br><span class="line">jdoe pts/18 192.168.0.11 Thu Sep 14 13:43 - 18:44 (00:00)</span><br><span class="line">jdoe pts/18 192.168.0.11 Thu Sep 14 19:42 - 19:43 (00:00)</span><br></pre></td></tr></table></figure><p>如果你想查看每一个用户上一次的登录情况，你可以通过一个像这样的循环来运行 <code>last</code> 命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ for user in `ls /home`; do last $user | head -1; done</span><br><span class="line"></span><br><span class="line">jdoe pts/18 192.168.0.11 Thu Sep 14 19:42 - 19:43 (00:03)</span><br><span class="line"></span><br><span class="line">rocket pts/18 192.168.0.11 Thu Sep 14 13:02 - 13:02 (00:00)</span><br><span class="line">shs pts/17 192.168.0.11 Thu Sep 14 12:45 still logged in</span><br></pre></td></tr></table></figure><p>此命令仅显示自当前 wtmp 文件登录过的用户。空白行表示用户自那以后从未登录过，但没有将他们显示出来。一个更好的命令可以明确地显示这期间从未登录过的用户：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ for user in `ls /home`; do echo -n &quot;$user&quot;; last $user | head -1 | awk &#x27;&#123;print substr($0,40)&#125;&#x27;; done</span><br><span class="line">dhayes</span><br><span class="line">jdoe pts/18 192.168.0.11 Thu Sep 14 19:42 - 19:43</span><br><span class="line">peanut pts/19 192.168.0.29 Mon Sep 11 09:15 - 17:11</span><br><span class="line">rocket pts/18 192.168.0.11 Thu Sep 14 13:02 - 13:02</span><br><span class="line">shs pts/17 192.168.0.11 Thu Sep 14 12:45 still logged</span><br><span class="line">tsmith</span><br></pre></td></tr></table></figure><p>这个命令要打很多字，但是可以通过一个脚本使它更加清晰易用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">for user in `ls /home`</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;$user &quot;;last $user | head -1 | awk &#x27;&#123;print substr($0,40)&#125;&#x27;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>有时这些信息可以提醒你用户角色的变动，表明他们可能不再需要相关帐户了。</p><h3 id="与用户沟通"><a href="#与用户沟通" class="headerlink" title="与用户沟通"></a>与用户沟通</h3><p>Linux 提供了许多和用户沟通的方法。你可以向 <code>/etc/motd</code> 文件中添加信息，当用户从终端登录到服务器时，将会显示这些信息。你也可以通过例如 <code>write</code>（通知单个用户）或者 <code>wall</code>（write 给所有已登录的用户）命令发送通知。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wall System will go down in one hour</span><br><span class="line"></span><br><span class="line">Broadcast message from shs@stinkbug (pts/17) (Thu Sep 14 14:04:16 2017):</span><br><span class="line"></span><br><span class="line">System will go down in one hour</span><br></pre></td></tr></table></figure><p>重要的通知应该通过多个渠道传达，因为很难预测用户实际会注意到什么。mesage-of-the-day（motd），<code>wall</code> 和 email 通知可以吸引用户大部分的注意力。</p><h3 id="注意日志文件"><a href="#注意日志文件" class="headerlink" title="注意日志文件"></a>注意日志文件</h3><p>多注意日志文件也可以帮你理解用户的活动情况。尤其 <code>/var/log/auth.log</code> 文件将会显示用户的登录和注销活动，组的创建记录等。<code>/var/log/message</code> 或者 <code>/var/log/syslog</code> 文件将会告诉你更多有关系统活动的日志。</p><h3 id="追踪问题和需求"><a href="#追踪问题和需求" class="headerlink" title="追踪问题和需求"></a>追踪问题和需求</h3><p>无论你是否在 Linux 系统上安装了事件跟踪系统，跟踪用户遇到的问题以及他们提出的需求都非常重要。如果需求的一部分久久不见回应，用户必然不会高兴。即使是记录在纸上也是有用的，或者最好有个电子表格，这可以让你注意到哪些问题仍然悬而未决，以及问题的根本原因是什么。确认问题和需求非常重要，记录还可以帮助你记住你必须采取的措施来解决几个月甚至几年后重新出现的问题。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>在繁忙的服务器上管理用户帐号，部分取决于配置良好的默认值，部分取决于监控用户活动和遇到的问题。如果用户觉得你对他们的顾虑有所回应并且知道在需要系统升级时会发生什么，他们可能会很高兴。</p><hr><p>via: <a target="_blank" rel="noopener" href="https://www.networkworld.com/article/3225109/linux/managing-users-on-linux-systems.html">https://www.networkworld.com/article/3225109/linux/managing-users-on-linux-systems.html</a></p><p>作者：<a target="_blank" rel="noopener" href="https://www.networkworld.com/author/Sandra-Henry_Stocker/">Sandra Henry-Stocker</a> 译者：<a target="_blank" rel="noopener" href="https://github.com/dianbanjiu">dianbanjiu</a> 校对：<a target="_blank" rel="noopener" href="https://github.com/wxy">wxy</a>、<a target="_blank" rel="noopener" href="https://github.com/pityonline">pityonline</a></p><p>本文由 <a target="_blank" rel="noopener" href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创编译，<a target="_blank" rel="noopener" href="https://linux.cn/">Linux中国</a> 荣誉推出</p></div></div></div><div class="footer"><p class="footer-copyright"><span>Powered by <a target="_blank" href="https://hexo.io">Hexo</a></span> <span>Theme <a target="_blank" href="https://github.com/tinkink-co/hexo-theme-terminal">Terminal</a></span><script type="text/javascript" src="https://cdn.staticfile.net/jquery/3.4.1/jquery.min.js"></script><script>getCDNinfo=function(){$.ajax({url:"/cdn-cgi/trace",success:function(a,n){let i="Antananarivo, Madagascar - (TNR);Cape Town, South Africa - (CPT);Casablanca, Morocco - (CMN);Dar Es Salaam, Tanzania - (DAR);Djibouti City, Djibouti - (JIB);Durban, South Africa - (DUR);Johannesburg, South Africa - (JNB);Kigali, Rwanda - (KGL);Lagos, Nigeria - (LOS);Luanda, Angola - (LAD);Maputo, MZ - (MPM);Mombasa, Kenya - (MBA);Port Louis, Mauritius - (MRU);Réunion, France - (RUN);Bangalore, India - (BLR);Bangkok, Thailand - (BKK);Bandar Seri Begawan, Brunei - (BWN);Cebu, Philippines - (CEB);Chengdu, China - (CTU);Chennai, India - (MAA);Chittagong, Bangladesh - (CGP);Chongqing, China - (CKG);Colombo, Sri Lanka - (CMB);Dhaka, Bangladesh - (DAC);Dongguan, China - (SZX);Foshan, China - (FUO);Fuzhou, China - (FOC);Guangzhou, China - (CAN);Hangzhou, China - (HGH);Hanoi, Vietnam - (HAN);Hengyang, China - (HNY);Ho Chi Minh City, Vietnam - (SGN);Hong Kong - (HKG);Hyderabad, India - (HYD);Islamabad, Pakistan - (ISB);Jakarta, Indonesia - (CGK);Jinan, China - (TNA);Karachi, Pakistan - (KHI);Kathmandu, Nepal - (KTM);Kolkata, India - (CCU);Kuala Lumpur, Malaysia - (KUL);Lahore, Pakistan - (LHE);Langfang, China - (NAY);Luoyang, China - (LYA);Macau - (MFM);Malé, Maldives - (MLE);Manila, Philippines - (MNL);Mumbai, India - (BOM);Nagpur, India - (NAG);Nanning, China - (NNG);New Delhi, India - (DEL);Osaka, Japan - (KIX);Phnom Penh, Cambodia - (PNH);Qingdao, China - (TAO);Seoul, South Korea - (ICN);Shanghai, China - (SHA);Shenyang, China - (SHE);Shijiazhuang, China - (SJW);Singapore, Singapore - (SIN);Suzhou, China - (SZV);Taipei - (TPE);Thimphu, Bhutan - (PBH);Tianjin, China - (TSN);Tokyo, Japan - (NRT);Ulaanbaatar, Mongolia - (ULN);Vientiane, Laos - (VTE);Wuhan, China - (WUH);Wuxi, China - (WUX);Xi'an, China - (XIY);Yerevan, Armenia - (EVN);Zhengzhou, China - (CGO);Zuzhou, China - (CSX);Amsterdam, Netherlands - (AMS);Athens, Greece - (ATH);Barcelona, Spain - (BCN);Belgrade, Serbia - (BEG);Berlin, Germany - (TXL);Brussels, Belgium - (BRU);Bucharest, Romania - (OTP);Budapest, Hungary - (BUD);Chișinău, Moldova - (KIV);Copenhagen, Denmark - (CPH);Cork, Ireland -  (ORK);Dublin, Ireland - (DUB);Düsseldorf, Germany - (DUS);Edinburgh, United Kingdom - (EDI);Frankfurt, Germany - (FRA);Geneva, Switzerland - (GVA);Gothenburg, Sweden - (GOT);Hamburg, Germany - (HAM);Helsinki, Finland - (HEL);Istanbul, Turkey - (IST);Kyiv, Ukraine - (KBP);Lisbon, Portugal - (LIS);London, United Kingdom - (LHR);Luxembourg City, Luxembourg - (LUX);Madrid, Spain - (MAD);Manchester, United Kingdom - (MAN);Marseille, France - (MRS);Milan, Italy - (MXP);Moscow, Russia - (DME);Munich, Germany - (MUC);Nicosia, Cyprus - (LCA);Oslo, Norway - (OSL);Paris, France - (CDG);Prague, Czech Republic - (PRG);Reykjavík, Iceland - (KEF);Riga, Latvia - (RIX);Rome, Italy - (FCO);Saint Petersburg, Russia - (LED);Sofia, Bulgaria - (SOF);Stockholm, Sweden - (ARN);Tallinn, Estonia - (TLL);Thessaloniki, Greece - (SKG);Vienna, Austria - (VIE);Vilnius, Lithuania - (VNO);Warsaw, Poland - (WAW);Zagreb, Croatia - (ZAG);Zürich, Switzerland - (ZRH);Arica, Chile - (ARI);Asunción, Paraguay - (ASU);Bogotá, Colombia - (BOG);Buenos Aires, Argentina - (EZE);Curitiba, Brazil - (CWB);Fortaleza, Brazil - (FOR);Guatemala City, Guatemala - (GUA);Lima, Peru - (LIM);Medellín, Colombia - (MDE);Panama City, Panama - (PTY);Porto Alegre, Brazil - (POA);Quito, Ecuador - (UIO);Rio de Janeiro, Brazil - (GIG);São Paulo, Brazil - (GRU);Santiago, Chile - (SCL);Willemstad, Curaçao - (CUR);St. George's, Grenada - (GND);Amman, Jordan - (AMM);Baghdad, Iraq - (BGW);Baku, Azerbaijan - (GYD);Beirut, Lebanon - (BEY);Doha, Qatar - (DOH);Dubai, United Arab Emirates - (DXB);Kuwait City, Kuwait - (KWI);Manama, Bahrain - (BAH);Muscat, Oman - (MCT);Ramallah - (ZDM);Riyadh, Saudi Arabia - (RUH);Tel Aviv, Israel - (TLV);Ashburn, VA, United States - (IAD);Atlanta, GA, United States - (ATL);Boston, MA, United States - (BOS);Buffalo, NY, United States - (BUF);Calgary, AB, Canada - (YYC);Charlotte, NC, United States - (CLT);Chicago, IL, United States - (ORD);Columbus, OH, United States - (CMH);Dallas, TX, United States - (DFW);Denver, CO, United States - (DEN);Detroit, MI, United States - (DTW);Honolulu, HI, United States - (HNL);Houston, TX, United States - (IAH);Indianapolis, IN, United States - (IND);Jacksonville, FL, United States - (JAX);Kansas City, MO, United States - (MCI);Las Vegas, NV, United States - (LAS);Los Angeles, CA, United States - (LAX);McAllen, TX, United States - (MFE);Memphis, TN, United States - (MEM);Mexico City, Mexico - (MEX);Miami, FL, United States - (MIA);Minneapolis, MN, United States - (MSP);Montgomery, AL, United States - (MGM);Montréal, QC, Canada - (YUL);Nashville, TN, United States - (BNA);Newark, NJ, United States - (EWR);Norfolk, VA, United States - (ORF);Omaha, NE, United States - (OMA);Philadelphia, United States - (PHL);Phoenix, AZ, United States - (PHX);Pittsburgh, PA, United States - (PIT);Port-Au-Prince, Haiti - (PAP);Portland, OR, United States - (PDX);Queretaro, MX, Mexico - (QRO);Richmond, Virginia - (RIC);Sacramento, CA, United States - (SMF);Salt Lake City, UT, United States - (SLC);San Diego, CA, United States - (SAN);San Jose, CA, United States - (SJC);Saskatoon, SK, Canada - (YXE);Seattle, WA, United States - (SEA);St. Louis, MO, United States - (STL);Tampa, FL, United States - (TPA);Toronto, ON, Canada - (YYZ);Vancouver, BC, Canada - (YVR);Tallahassee, FL, United States - (TLH);Winnipeg, MB, Canada - (YWG);Adelaide, SA, Australia - (ADL);Auckland, New Zealand - (AKL);Brisbane, QLD, Australia - (BNE);Melbourne, VIC, Australia - (MEL);Noumea, New caledonia - (NOU);Perth, WA, Australia - (PER);Sydney, NSW, Australia - (SYD)".split(";"),e=a.split("colo=")[1].split("\n")[0],t=(a.split("colo=")[1].split("\n")[0],a.split("tls=")[1].split("\n")[0]),o=a.split("http=")[1].split("\n")[0],s=a.split("sni=")[1].split("\n")[0],r=a.split("ip=")[1].split("\n")[0],l=a.split("uag=")[1].split("\n")[0];for(var d=0;d<i.length;d++)if(-1!=i[d].indexOf(e)){document.getElementById("cdn").innerHTML=i[d];break}document.getElementById("tls").innerHTML=t,document.getElementById("http").innerHTML=o,document.getElementById("sni").innerHTML=s,document.getElementById("ip").innerHTML=r,document.getElementById("useragent").innerHTML=l}})},$(document).ready((function(){getCDNinfo()}))</script></p><p style="text-align:center">感谢陪伴与布道，开源之火不灭。​</p><p style="text-align:center"><script>document.write("本次加载耗时: "+(performance.getEntriesByType("navigation").reduce((e,r)=>e+r.responseEnd-r.startTime,0)+performance.getEntriesByType("resource").reduce((e,r)=>e+r.responseEnd-r.startTime,0)).toFixed(0)+"ms")</script></p><p style="text-align:center">当前 SNI 状态： <span id="sni">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 TLS 版本： <span id="tls">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 HTTP 版本： <span id="http">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前您的客户端 IP 是： <span id="ip">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前分配的 CDN 节点是: <span id="cdn">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">您的 UserAgent 信息是: <span id="useragent">正在统计！或可能被浏览器防追踪拦截！</span></p><p></p></div></div></body></html>