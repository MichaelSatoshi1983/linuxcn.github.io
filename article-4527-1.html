<!doctype html><html lang="en"><head><meta name="description" content="一个LinuxCN的镜像站"><meta name="msvalidate.01" content="D404690CEFCB54C7762AC84935B99171"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6618da70c90c8744eead2e9371fb5077";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">!function(t,e,n,c,s,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/s5f3f0tojf",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/theme.css"><link rel="shortcut icon" href="/favicon.png"><title>十个 SCP 传输命令例子 - 归墟星火集 又一个 LinuxCN 站点</title><meta name="generator" content="Hexo 7.3.0"></head><body><div class="header-title"><span class="header-light"></span> <span class="header-light"></span> <span class="header-light"></span> <span>归墟星火集 又一个 LinuxCN 站点 linuxcn.undefined.today<span></span></span></div><div class="container"><ul class="nav"><li><a href="/">首页</a></li><li><a target="_blank" rel="noopener" href="https://undefined.today/">Blog</a></li></ul><div class="content"><div class="post-container"><div class="post-header"><span class="ui-tips">标题：</span><h1 class="ui-keyword post-title">十个 SCP 传输命令例子</h1><span class="post-date">2014-12-25</span></div><div class="post-header"><span class="ui-tips">分类：</span> <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></div><div class="post-header"><span class="ui-tips">标签：</span> <a href="/tags/ssh/">ssh</a> <a href="/tags/scp/">scp</a> <a href="/tags/ftp/">ftp</a></div><div class="post-content"><p>Linux系统管理员应该很熟悉<strong>CLI</strong>环境，因为通常在Linux服务器中是不安装<strong>GUI</strong>的。<strong>SSH</strong>可能是Linux系统管理员通过远程方式安全管理服务器的最流行协议。在<strong>SSH</strong>命令中内置了一种叫<strong>SCP</strong>的命令，用来在服务器之间安全传输文件。</p><p><img src="https://linuxcn.img.undefined.today/data/attachment/album/201412/25/143307lejo9fkp7vop6zjk.png"></p><p>以下命令可以解读为：用“<strong>username account</strong>”“<strong>拷贝 source file name</strong>”到“<strong>destination host</strong>”上的“<strong>destination folder</strong>”里。</p><h4 id="SCP命令的基本语法"><a href="#SCP命令的基本语法" class="headerlink" title="SCP命令的基本语法"></a>SCP命令的基本语法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp source_file_name username@destination_host:destination_folder</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>SCP</strong>命令有很多可以使用的参数，这里指的是每次都会用到的参数。</p><h3 id="用-v参数来提供SCP进程的详细信息"><a href="#用-v参数来提供SCP进程的详细信息" class="headerlink" title="用-v参数来提供SCP进程的详细信息"></a>用-v参数来提供SCP进程的详细信息</h3><p>不带参数的基本<strong>SCP</strong>命令会在后台拷贝文件，除非操作完成或者有错误出现，否则用户在界面上是看不到任何提示信息的。你可以用“<strong>-v</strong>”参数来在屏幕上打印出调试信息，这能帮助你调试连接、认证和配置的一些问题。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -v Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="部分输出"><a href="#部分输出" class="headerlink" title="部分输出"></a>部分输出</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Executing: program /usr/bin/ssh host 202.x.x.x, user mrarianto, command scp -v -t .</span><br><span class="line">OpenSSH_6.0p1 Debian-3, OpenSSL 1.0.1c 10 May 2012</span><br><span class="line">debug1: Reading configuration data /etc/ssh/ssh_config</span><br><span class="line">debug1: /etc/ssh/ssh_config line 19: Applying options for *</span><br><span class="line">debug1: Connecting to 202.x.x.x [202.x.x.x] port 22.</span><br><span class="line">debug1: Connection established.</span><br><span class="line">debug1: Host &#x27;202.x.x.x&#x27; is known and matches the RSA host key.</span><br><span class="line">debug1: Found key in /home/pungki/.ssh/known_hosts:1</span><br><span class="line">debug1: ssh_rsa_verify: signature correct</span><br><span class="line">debug1: Next authentication method: password</span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">debug1: Authentication succeeded (password).</span><br><span class="line">Authenticated to 202.x.x.x ([202.x.x.x]:22).</span><br><span class="line">Sending file modes: C0770 3760348 Label.pdf</span><br><span class="line">Sink: C0770 3760348 Label.pdf</span><br><span class="line">Label.pdf 100% 3672KB 136.0KB/s 00:27</span><br><span class="line">Transferred: sent 3766304, received 3000 bytes, in 65.2 seconds</span><br><span class="line">Bytes per second: sent 57766.4, received 46.0</span><br><span class="line">debug1: Exit status 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="从源文件获取修改时间、访问时间和模式"><a href="#从源文件获取修改时间、访问时间和模式" class="headerlink" title="从源文件获取修改时间、访问时间和模式"></a>从源文件获取修改时间、访问时间和模式</h3><p>“<strong>-p</strong>”参数会帮到把预计的时间和连接速度会显示在屏幕上。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -p Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="部分输出-1"><a href="#部分输出-1" class="headerlink" title="部分输出"></a>部分输出</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 126.6KB/s 00:29</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="用-C参数来让文件传输更快"><a href="#用-C参数来让文件传输更快" class="headerlink" title="用-C参数来让文件传输更快"></a>用-C参数来让文件传输更快</h3><p>有一个参数能让传输文件更快，就是“<strong>-C</strong>”参数，它的作用是不停压缩所传输的文件。它特别之处在于压缩是在网络传输中进行，当文件传到目标服务器时，它会变回压缩之前的原始大小。</p><p>来看看这些命令，我们使用一个<strong>93 Mb</strong>的单一文件来做例子。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -pv messages.log mrarianto@202.x.x.x:.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="部分输出-2"><a href="#部分输出-2" class="headerlink" title="部分输出"></a>部分输出</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Executing: program /usr/bin/ssh host 202.x.x.x, user mrarianto, command scp -v -p -t .</span><br><span class="line">OpenSSH_6.0p1 Debian-3, OpenSSL 1.0.1c 10 May 2012</span><br><span class="line">debug1: Reading configuration data /etc/ssh/ssh_config</span><br><span class="line">debug1: /etc/ssh/ssh_config line 19: Applying options for *</span><br><span class="line">debug1: Connecting to 202.x.x.x [202.x.x.x] port 22.</span><br><span class="line">debug1: Connection established.</span><br><span class="line">debug1: identity file /home/pungki/.ssh/id_rsa type -1</span><br><span class="line">debug1: Found key in /home/pungki/.ssh/known_hosts:1</span><br><span class="line">debug1: ssh_rsa_verify: signature correct</span><br><span class="line">debug1: Trying private key: /home/pungki/.ssh/id_rsa</span><br><span class="line">debug1: Next authentication method: password</span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">debug1: Authentication succeeded (password).</span><br><span class="line">Authenticated to 202.x.x.x ([202.x.x.x]:22).</span><br><span class="line">debug1: Sending command: scp -v -p -t .</span><br><span class="line">File mtime 1323853868 atime 1380425711</span><br><span class="line">Sending file timestamps: T1323853868 0 1380425711 0</span><br><span class="line">messages.log 100% 93MB 58.6KB/s 27:05</span><br><span class="line">Transferred: sent 97614832, received 25976 bytes, in 1661.3 seconds</span><br><span class="line">Bytes per second: sent 58758.4, received 15.6</span><br><span class="line">debug1: Exit status 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>不用“<strong>-C</strong>”参数来拷贝文件，结果用了<strong>1661.3</strong>秒，你可以比较下用了“<strong>-C</strong>”参数之后的结果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -Cpv messages.log mrarianto@202.x.x.x:.</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="部分输出-3"><a href="#部分输出-3" class="headerlink" title="部分输出"></a>部分输出</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Executing: program /usr/bin/ssh host 202.x.x.x, user mrarianto, command scp -v -p -t .</span><br><span class="line">OpenSSH_6.0p1 Debian-3, OpenSSL 1.0.1c 10 May 2012</span><br><span class="line">debug1: Reading configuration data /etc/ssh/ssh_config</span><br><span class="line">debug1: /etc/ssh/ssh_config line 19: Applying options for *</span><br><span class="line">debug1: Connecting to 202.x.x.x [202.x.x.x] port 22.</span><br><span class="line">debug1: Connection established.</span><br><span class="line">debug1: identity file /home/pungki/.ssh/id_rsa type -1</span><br><span class="line">debug1: Host &#x27;202.x.x.x&#x27; is known and matches the RSA host key.</span><br><span class="line">debug1: Found key in /home/pungki/.ssh/known_hosts:1</span><br><span class="line">debug1: ssh_rsa_verify: signature correct</span><br><span class="line">debug1: Next authentication method: publickey</span><br><span class="line">debug1: Trying private key: /home/pungki/.ssh/id_rsa</span><br><span class="line">debug1: Next authentication method: password</span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">debug1: Enabling compression at level 6.</span><br><span class="line">debug1: Authentication succeeded (password).</span><br><span class="line">Authenticated to 202.x.x.x ([202.x.x.x]:22).</span><br><span class="line">debug1: channel 0: new [client-session]</span><br><span class="line">debug1: Sending command: scp -v -p -t .</span><br><span class="line">File mtime 1323853868 atime 1380428748</span><br><span class="line">Sending file timestamps: T1323853868 0 1380428748 0</span><br><span class="line">Sink: T1323853868 0 1380428748 0</span><br><span class="line">Sending file modes: C0600 97517300 messages.log</span><br><span class="line">messages.log 100% 93MB 602.7KB/s 02:38</span><br><span class="line">Transferred: sent 8905840, received 15768 bytes, in 162.5 seconds</span><br><span class="line">Bytes per second: sent 54813.9, received 97.0</span><br><span class="line">debug1: Exit status 0</span><br><span class="line">debug1: compress outgoing: raw data 97571111, compressed 8806191, factor 0.09</span><br><span class="line">debug1: compress incoming: raw data 7885, compressed 3821, factor 0.48</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>看到了吧，压缩了文件之后，传输过程在<strong>162.5</strong>秒内就完成了，速度是不用“<strong>-C</strong>”参数的10倍。如果你要通过网络拷贝很多份文件，那么“<strong>-C</strong>”参数能帮你节省掉很多时间。</p><p>有一点我们需要注意，这个压缩的方法不是适用于所有文件。当源文件已经被压缩过了，那就没办法再压缩很多了。诸如那些像**.zip**，<strong>.rar</strong>，<strong>pictures</strong>和**.iso<strong>的文件，用“</strong>-C**”参数就没什么意义。</p><h3 id="选择其它加密算法来加密文件"><a href="#选择其它加密算法来加密文件" class="headerlink" title="选择其它加密算法来加密文件"></a>选择其它加密算法来加密文件</h3><p><strong>SCP</strong>默认是用“<strong>AES-128</strong>”加密算法来加密传输的。如果你想要改用其它加密算法来加密传输，你可以用“<strong>-c</strong>”参数。我们来瞧瞧。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -c 3des Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 282.5KB/s 00:13</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>上述命令是告诉<strong>SCP</strong>用<strong>3des algorithm</strong>来加密文件。要注意这个参数是“<strong>-c</strong>”（小写）而不是“<strong>-C</strong>“（大写）。</p><h3 id="限制带宽使用"><a href="#限制带宽使用" class="headerlink" title="限制带宽使用"></a>限制带宽使用</h3><p>还有一个很有用的参数是“<strong>-l</strong>”参数，它能限制使用带宽。如果你为了拷贝很多文件而去执行了一份自动化脚本又不希望带宽被<strong>SCP</strong>进程耗尽，那这个参数会非常管用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -l 400 Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 50.3KB/s 01:13</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在“<strong>-l</strong>”参数后面的这个<strong>400</strong>值意思是我们给<strong>SCP</strong>进程限制了带宽为<strong>50 KB&#x2F;秒</strong>。有一点要记住，带宽是以<strong>千比特&#x2F;秒</strong> (<strong>kbps</strong>)表示的，而<strong>8 比特</strong>等于<strong>1 字节</strong>。</p><p>因为<strong>SCP</strong>是用<strong>千字节&#x2F;秒</strong> (<strong>KB&#x2F;s</strong>)计算的，所以如果你想要限制<strong>SCP</strong>的最大带宽只有<strong>50 KB&#x2F;s</strong>，你就需要设置成<strong>50 x 8 &#x3D; 400</strong>。</p><h3 id="指定端口"><a href="#指定端口" class="headerlink" title="指定端口"></a>指定端口</h3><p>通常<strong>SCP</strong>是把<strong>22</strong>作为默认端口。但是为了安全起见SSH 监听端口改成其它端口。比如说，我们想用<strong>2249</strong>端口，这种情况下就要指定端口。命令如下所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -P 2249 Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 262.3KB/s 00:14</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>确认一下写的是大写字母“<strong>P</strong>”而不是“<strong>p</strong>“，因为“<strong>p</strong>”已经被用来保留源文件的修改时间和模式（LCTT 译注：和 ssh 命令不同了）。</p><h3 id="递归拷贝文件和文件夹"><a href="#递归拷贝文件和文件夹" class="headerlink" title="递归拷贝文件和文件夹"></a>递归拷贝文件和文件夹</h3><p>有时我们需要拷贝文件夹及其内部的所有<strong>文件</strong>&#x2F;<strong>子文件夹</strong>，我们如果能用一条命令解决问题那就更好了。<strong>SCP</strong>用“<strong>-r</strong>”参数就能做到。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -r documents mrarianto@202.x.x.x:.</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 282.5KB/s 00:13</span><br><span class="line">scp.txt 100% 10KB 9.8KB/s 00:00</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>拷贝完成后，你会在目标服务器中找到一个名为“<strong>documents</strong>”的文件夹，其中就是所拷贝的所有文件。“<strong>documents</strong>”是系统自动创建的文件夹。</p><h3 id="禁用进度条和警告-诊断信息"><a href="#禁用进度条和警告-诊断信息" class="headerlink" title="禁用进度条和警告&#x2F;诊断信息"></a>禁用进度条和警告&#x2F;诊断信息</h3><p>如果你不想从SCP中看到进度条和警告&#x2F;诊断信息，你可以用“<strong>-q</strong>”参数来静默它们，举例如下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -q Label.pdf mrarianto@202.x.x.x:.</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">pungki@mint ~/Documents $</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>正如你所看到的，在你输入密码之后，没有任何关于SCP进度的消息反馈。进度完成后，你也看不到任何提示。</p><h3 id="用SCP通过代理来拷贝文件"><a href="#用SCP通过代理来拷贝文件" class="headerlink" title="用SCP通过代理来拷贝文件"></a>用SCP通过代理来拷贝文件</h3><p>代理服务器经常用于办公环境，SCP自然是没有经过代理方面的配置的。当你的环境正在使用代理，那么你就必须要“告诉”SCP与代理关联起来。</p><p>场景如下：代理的地址是<strong>10.0.96.6</strong>，端口是8080。该代理还实现了用户认证功能。首先，你需要创建一个“<strong>~&#x2F;.ssh&#x2F;config</strong>”文件，其次把以下命令输入进该文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ProxyCommand /usr/bin/corkscrew 10.0.96.6 8080 %h %p ~/.ssh/proxyauth</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>接着你需要创建一个同样包括以下命令的“<strong>~&#x2F;.ssh&#x2F;proxyauth</strong>”文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myusername:mypassword</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后你就可以像往常一样使用SCP了。</p><p>请注意corkscrew可能还没有安装在你的系统中。在我的Linux Mint中，我需要首先先用标准Linux Mint安装程序来安装它。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install corkscrew</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>对于其它的一些基于yum安装的系统，用户能用以下的命令来安装corkscrew。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># yum install corkscrew</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>还有一点就是因为“<strong>~&#x2F;.ssh&#x2F;proxyauth</strong>”文件中以明文的格式包含了你的“<strong>用户名</strong>”和“<strong>密码</strong>”，所以请确保该文件只能你来查看。</p><h3 id="选择不同的ssh-config文件"><a href="#选择不同的ssh-config文件" class="headerlink" title="选择不同的ssh_config文件"></a>选择不同的ssh_config文件</h3><p>对于经常在公司网络和公共网络之间切换的移动用户来说，一直改变SCP的设置显然是很痛苦的。如果我们能放一个保存不同配置的<strong>ssh_config</strong>文件来匹配我们的需求那就很好了。</p><h4 id="以下是一个简单的场景"><a href="#以下是一个简单的场景" class="headerlink" title="以下是一个简单的场景"></a>以下是一个简单的场景</h4><p>代理是被用来在公司网络但不是公共网络并且你会定期切换网络时候使用的。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pungki@mint ~/Documents $ scp -F /home/pungki/proxy_ssh_config Label.pdf</span><br><span class="line"></span><br><span class="line">mrarianto@202.x.x.x:.</span><br><span class="line">mrarianto@202.x.x.x&#x27;s password:</span><br><span class="line">Label.pdf 100% 3672KB 282.5KB/s 00:13</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>默认情况下每个用户会把“<strong>ssh_config</strong>”文件放在“<strong>~&#x2F;.ssh&#x2F;config</strong>“路径下。用兼容的代理创建一个特定的“<strong>ssh_config</strong>”文件，能让你切换网络时更加方便容易。</p><p>当你处于公司网络时，你可以用“<strong>-F</strong>”参数，当你处于公共网络时，你可以忽略掉“<strong>-F</strong>”参数。</p><p>以上就是关于<strong>SCP</strong>的全部内容了，你可以查看<strong>SCP</strong>的<strong>man页面</strong>来获取更多内容，请随意留下您的评论及建议。</p><hr><p>via: <a target="_blank" rel="noopener" href="http://www.tecmint.com/scp-commands-examples/">http://www.tecmint.com/scp-commands-examples/</a></p><p>作者：<a target="_blank" rel="noopener" href="http://www.tecmint.com/author/pungkiarianto/">Pungki Arianto</a> 译者：<a target="_blank" rel="noopener" href="https://github.com/ZTinoZ">ZTinoZ</a> 校对：<a target="_blank" rel="noopener" href="https://github.com/wxy">wxy</a></p><p>本文由 <a target="_blank" rel="noopener" href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创翻译，<a target="_blank" rel="noopener" href="http://linux.cn/">Linux中国</a> 荣誉推出</p></div></div></div><div class="footer"><p class="footer-copyright"><span>Powered by <a target="_blank" href="https://hexo.io">Hexo</a></span> <span>Theme <a target="_blank" href="https://github.com/tinkink-co/hexo-theme-terminal">Terminal</a></span><script type="text/javascript" src="https://cdn.staticfile.net/jquery/3.4.1/jquery.min.js"></script><script>getCDNinfo=function(){$.ajax({url:"/cdn-cgi/trace",success:function(a,n){let i="Antananarivo, Madagascar - (TNR);Cape Town, South Africa - (CPT);Casablanca, Morocco - (CMN);Dar Es Salaam, Tanzania - (DAR);Djibouti City, Djibouti - (JIB);Durban, South Africa - (DUR);Johannesburg, South Africa - (JNB);Kigali, Rwanda - (KGL);Lagos, Nigeria - (LOS);Luanda, Angola - (LAD);Maputo, MZ - (MPM);Mombasa, Kenya - (MBA);Port Louis, Mauritius - (MRU);Réunion, France - (RUN);Bangalore, India - (BLR);Bangkok, Thailand - (BKK);Bandar Seri Begawan, Brunei - (BWN);Cebu, Philippines - (CEB);Chengdu, China - (CTU);Chennai, India - (MAA);Chittagong, Bangladesh - (CGP);Chongqing, China - (CKG);Colombo, Sri Lanka - (CMB);Dhaka, Bangladesh - (DAC);Dongguan, China - (SZX);Foshan, China - (FUO);Fuzhou, China - (FOC);Guangzhou, China - (CAN);Hangzhou, China - (HGH);Hanoi, Vietnam - (HAN);Hengyang, China - (HNY);Ho Chi Minh City, Vietnam - (SGN);Hong Kong - (HKG);Hyderabad, India - (HYD);Islamabad, Pakistan - (ISB);Jakarta, Indonesia - (CGK);Jinan, China - (TNA);Karachi, Pakistan - (KHI);Kathmandu, Nepal - (KTM);Kolkata, India - (CCU);Kuala Lumpur, Malaysia - (KUL);Lahore, Pakistan - (LHE);Langfang, China - (NAY);Luoyang, China - (LYA);Macau - (MFM);Malé, Maldives - (MLE);Manila, Philippines - (MNL);Mumbai, India - (BOM);Nagpur, India - (NAG);Nanning, China - (NNG);New Delhi, India - (DEL);Osaka, Japan - (KIX);Phnom Penh, Cambodia - (PNH);Qingdao, China - (TAO);Seoul, South Korea - (ICN);Shanghai, China - (SHA);Shenyang, China - (SHE);Shijiazhuang, China - (SJW);Singapore, Singapore - (SIN);Suzhou, China - (SZV);Taipei - (TPE);Thimphu, Bhutan - (PBH);Tianjin, China - (TSN);Tokyo, Japan - (NRT);Ulaanbaatar, Mongolia - (ULN);Vientiane, Laos - (VTE);Wuhan, China - (WUH);Wuxi, China - (WUX);Xi'an, China - (XIY);Yerevan, Armenia - (EVN);Zhengzhou, China - (CGO);Zuzhou, China - (CSX);Amsterdam, Netherlands - (AMS);Athens, Greece - (ATH);Barcelona, Spain - (BCN);Belgrade, Serbia - (BEG);Berlin, Germany - (TXL);Brussels, Belgium - (BRU);Bucharest, Romania - (OTP);Budapest, Hungary - (BUD);Chișinău, Moldova - (KIV);Copenhagen, Denmark - (CPH);Cork, Ireland -  (ORK);Dublin, Ireland - (DUB);Düsseldorf, Germany - (DUS);Edinburgh, United Kingdom - (EDI);Frankfurt, Germany - (FRA);Geneva, Switzerland - (GVA);Gothenburg, Sweden - (GOT);Hamburg, Germany - (HAM);Helsinki, Finland - (HEL);Istanbul, Turkey - (IST);Kyiv, Ukraine - (KBP);Lisbon, Portugal - (LIS);London, United Kingdom - (LHR);Luxembourg City, Luxembourg - (LUX);Madrid, Spain - (MAD);Manchester, United Kingdom - (MAN);Marseille, France - (MRS);Milan, Italy - (MXP);Moscow, Russia - (DME);Munich, Germany - (MUC);Nicosia, Cyprus - (LCA);Oslo, Norway - (OSL);Paris, France - (CDG);Prague, Czech Republic - (PRG);Reykjavík, Iceland - (KEF);Riga, Latvia - (RIX);Rome, Italy - (FCO);Saint Petersburg, Russia - (LED);Sofia, Bulgaria - (SOF);Stockholm, Sweden - (ARN);Tallinn, Estonia - (TLL);Thessaloniki, Greece - (SKG);Vienna, Austria - (VIE);Vilnius, Lithuania - (VNO);Warsaw, Poland - (WAW);Zagreb, Croatia - (ZAG);Zürich, Switzerland - (ZRH);Arica, Chile - (ARI);Asunción, Paraguay - (ASU);Bogotá, Colombia - (BOG);Buenos Aires, Argentina - (EZE);Curitiba, Brazil - (CWB);Fortaleza, Brazil - (FOR);Guatemala City, Guatemala - (GUA);Lima, Peru - (LIM);Medellín, Colombia - (MDE);Panama City, Panama - (PTY);Porto Alegre, Brazil - (POA);Quito, Ecuador - (UIO);Rio de Janeiro, Brazil - (GIG);São Paulo, Brazil - (GRU);Santiago, Chile - (SCL);Willemstad, Curaçao - (CUR);St. George's, Grenada - (GND);Amman, Jordan - (AMM);Baghdad, Iraq - (BGW);Baku, Azerbaijan - (GYD);Beirut, Lebanon - (BEY);Doha, Qatar - (DOH);Dubai, United Arab Emirates - (DXB);Kuwait City, Kuwait - (KWI);Manama, Bahrain - (BAH);Muscat, Oman - (MCT);Ramallah - (ZDM);Riyadh, Saudi Arabia - (RUH);Tel Aviv, Israel - (TLV);Ashburn, VA, United States - (IAD);Atlanta, GA, United States - (ATL);Boston, MA, United States - (BOS);Buffalo, NY, United States - (BUF);Calgary, AB, Canada - (YYC);Charlotte, NC, United States - (CLT);Chicago, IL, United States - (ORD);Columbus, OH, United States - (CMH);Dallas, TX, United States - (DFW);Denver, CO, United States - (DEN);Detroit, MI, United States - (DTW);Honolulu, HI, United States - (HNL);Houston, TX, United States - (IAH);Indianapolis, IN, United States - (IND);Jacksonville, FL, United States - (JAX);Kansas City, MO, United States - (MCI);Las Vegas, NV, United States - (LAS);Los Angeles, CA, United States - (LAX);McAllen, TX, United States - (MFE);Memphis, TN, United States - (MEM);Mexico City, Mexico - (MEX);Miami, FL, United States - (MIA);Minneapolis, MN, United States - (MSP);Montgomery, AL, United States - (MGM);Montréal, QC, Canada - (YUL);Nashville, TN, United States - (BNA);Newark, NJ, United States - (EWR);Norfolk, VA, United States - (ORF);Omaha, NE, United States - (OMA);Philadelphia, United States - (PHL);Phoenix, AZ, United States - (PHX);Pittsburgh, PA, United States - (PIT);Port-Au-Prince, Haiti - (PAP);Portland, OR, United States - (PDX);Queretaro, MX, Mexico - (QRO);Richmond, Virginia - (RIC);Sacramento, CA, United States - (SMF);Salt Lake City, UT, United States - (SLC);San Diego, CA, United States - (SAN);San Jose, CA, United States - (SJC);Saskatoon, SK, Canada - (YXE);Seattle, WA, United States - (SEA);St. Louis, MO, United States - (STL);Tampa, FL, United States - (TPA);Toronto, ON, Canada - (YYZ);Vancouver, BC, Canada - (YVR);Tallahassee, FL, United States - (TLH);Winnipeg, MB, Canada - (YWG);Adelaide, SA, Australia - (ADL);Auckland, New Zealand - (AKL);Brisbane, QLD, Australia - (BNE);Melbourne, VIC, Australia - (MEL);Noumea, New caledonia - (NOU);Perth, WA, Australia - (PER);Sydney, NSW, Australia - (SYD)".split(";"),e=a.split("colo=")[1].split("\n")[0],t=(a.split("colo=")[1].split("\n")[0],a.split("tls=")[1].split("\n")[0]),o=a.split("http=")[1].split("\n")[0],s=a.split("sni=")[1].split("\n")[0],r=a.split("ip=")[1].split("\n")[0],l=a.split("uag=")[1].split("\n")[0];for(var d=0;d<i.length;d++)if(-1!=i[d].indexOf(e)){document.getElementById("cdn").innerHTML=i[d];break}document.getElementById("tls").innerHTML=t,document.getElementById("http").innerHTML=o,document.getElementById("sni").innerHTML=s,document.getElementById("ip").innerHTML=r,document.getElementById("useragent").innerHTML=l}})},$(document).ready((function(){getCDNinfo()}))</script></p><p style="text-align:center">感谢陪伴与布道，开源之火不灭。​</p><p style="text-align:center"><script>document.write("本次加载耗时: "+(performance.getEntriesByType("navigation").reduce((e,r)=>e+r.responseEnd-r.startTime,0)+performance.getEntriesByType("resource").reduce((e,r)=>e+r.responseEnd-r.startTime,0)).toFixed(0)+"ms")</script></p><p style="text-align:center">当前 SNI 状态： <span id="sni">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 TLS 版本： <span id="tls">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 HTTP 版本： <span id="http">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前您的客户端 IP 是： <span id="ip">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前分配的 CDN 节点是: <span id="cdn">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">您的 UserAgent 信息是: <span id="useragent">正在统计！或可能被浏览器防追踪拦截！</span></p><p></p><script defer src="https://pv.undefined.today/tracker.min.js" data-website-id="LinuxCNMirror-tracker"></script></div></div></body></html>