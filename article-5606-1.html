<!doctype html><html lang="en"><head><meta name="description" content="一个LinuxCN的镜像站"><meta name="msvalidate.01" content="D404690CEFCB54C7762AC84935B99171"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6618da70c90c8744eead2e9371fb5077";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">!function(t,e,n,c,s,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/s5f3f0tojf",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="/styles/base.css"><link rel="stylesheet" href="/styles/theme.css"><link rel="shortcut icon" href="/favicon.png"><title>用于 ‘Suse‘ Linux 包管理的 Zypper 命令大全 - 归墟星火集 又一个 LinuxCN 站点</title><meta name="generator" content="Hexo 7.3.0"></head><body><div class="header-title"><span class="header-light"></span> <span class="header-light"></span> <span class="header-light"></span> <span>归墟星火集 又一个 LinuxCN 站点 linuxcn.undefined.today<span></span></span></div><div class="container"><ul class="nav"><li><a href="/">首页</a></li><li><a target="_blank" rel="noopener" href="https://undefined.today/">Blog</a></li></ul><div class="content"><div class="post-container"><div class="post-header"><span class="ui-tips">标题：</span><h1 class="ui-keyword post-title">用于 ‘Suse‘ Linux 包管理的 Zypper 命令大全</h1><span class="post-date">2015-06-11</span></div><div class="post-header"><span class="ui-tips">分类：</span> <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></div><div class="post-header"><span class="ui-tips">标签：</span> <a href="/tags/openSUSE/">openSUSE</a> <a href="/tags/Zypper/">Zypper</a></div><div class="post-content"><p>SUSE（ Software and System Entwicklung，即软件和系统开发。其中‘entwicklung‘是德语，意为开发）Linux 是由 Novell 公司在 Linux 内核基础上建立的操作系统。SUSE Linux 有两个发行分支。其中之一名为 openSUSE，这是一款自由而且免费的操作系统 （free as in speech as well as free as in wine）。该系统由开源社区开发维护，支持一些最新版本的应用软件，其最新的稳定版本为 13.2。</p><p>另外一个分支是 SUSE Linux 企业版。该分支是一个为企业及商业化产品设计的 Linux 发行版，包含了大量的企业应用以及适用于商业产品生产环境的特性。其最新的稳定版本为 12。</p><p>以下的链接包含了安装企业版 SUSE Linux 服务器的详细信息。</p><ul><li><a target="_blank" rel="noopener" href="http://www.tecmint.com/installation-of-suse-linux-enterprise-server-12/">如何安装企业版 SUSE Linux 12</a></li></ul><p><img src="https://linuxcn.img.undefined.today/data/attachment/album/201506/11/100553f58l93d6dvt7ob73.jpg"></p><p>Zypper 和 Yast 是 SUSE Linux 平台上的软件包管理工具，他们的底层使用了 RPM（LCTT 译者注：RPM 最初指 Redhat Pacakge Manager ，现普遍解释为递归短语 RPM Package Manager 的缩写）。</p><p>Yast（Yet another Setup Tool ）是 OpenSUSE 以及企业版 SUSE 上用于系统管理、设置和配置的工具。</p><p>Zypper 是软件包管理器ZYpp的命令行接口，可用于安装、删除SUSE Linux上的软件以及进行系统更新。ZYpp为Zypper和Yast提供底层支持。</p><p>本文将介绍实际应用中常见的一些Zypper命令。这些命令用来进行安装、更新、删除等任何软件包管理器所能够胜任的工作。</p><p><strong>重要</strong> : 切记所有的这些命令都将在系统全局范围内产生影响，所以必须以 root 身份执行，否则命令将失败。</p><h3 id="获取基本的-Zypper-帮助信息"><a href="#获取基本的-Zypper-帮助信息" class="headerlink" title="获取基本的 Zypper 帮助信息"></a>获取基本的 Zypper 帮助信息</h3><ol><li>不带任何选项的执行 zypper, 将输出该命令的全局选项以及子命令列表（LCTT 译者注：全局选项，global option，控制台命令的输入分为可选参数和位置参数两大类。按照习惯，一般可选参数称为选项’option’，而位置参数称为参数 ‘argument’）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#  zypper</span><br><span class="line">    Usage:</span><br><span class="line">    zypper [--global-options]</span><br></pre></td></tr></table></figure><ol start="2"><li>获取一个具体的子命令的帮助信息，比如 ‘in’ (install)，可以执行下面的命令</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper help in</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># zypper help install</span><br><span class="line">install (in) [options] &#123;capability | rpm_file_uri&#125;</span><br><span class="line"></span><br><span class="line">Install packages with specified capabilities or RPM files with specified</span><br><span class="line">location. A capability is NAME[.ARCH][OP], where OP is one</span><br><span class="line">of &lt;, &lt;=, =, &gt;=, &gt;.</span><br><span class="line"></span><br><span class="line">  Command options:</span><br><span class="line">--from &lt;alias|#|URI&gt;    Select packages from the specified repository.</span><br><span class="line">-r, --repo &lt;alias|#|URI&gt;    Load only the specified repository.</span><br><span class="line">-t, --type            Type of package (package, patch, pattern, product, srcpackage).</span><br><span class="line">                            Default: package.</span><br><span class="line">-n, --name                  Select packages by plain name, not by capability.</span><br><span class="line">-C, --capability            Select packages by capability.</span><br><span class="line">-f, --force                 Install even if the item is already installed (reinstall),</span><br><span class="line">                            downgraded or changes vendor or architecture.</span><br><span class="line">    --oldpackage            Allow to replace a newer item with an older one.</span><br><span class="line">                            Handy if you are doing a rollback. Unlike --force</span><br><span class="line">                            it will not enforce a reinstall.</span><br><span class="line">    --replacefiles          Install the packages even if they replace files from other,</span><br><span class="line">                            already installed, packages. Default is to treat file conflicts</span><br><span class="line">                            as an error. --download-as-needed disables the fileconflict check.</span><br><span class="line">...... </span><br></pre></td></tr></table></figure><ol start="3"><li>安装之前搜索一个安转包（以 gnome-desktop 为例 ）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># zypper se gnome-desktop</span><br><span class="line"></span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Debug&#x27; metadata ............................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Debug&#x27; cache .................................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Non-Oss&#x27; metadata ......................................................... [done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Non-Oss&#x27; cache ...............................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Oss&#x27; metadata ..............................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Oss&#x27; cache ...................................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Update&#x27; metadata ...........................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Update&#x27; cache ................................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Update-Non-Oss&#x27; metadata ...................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Update-Non-Oss&#x27; cache ........................................................[done]</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">S | Name                                  | Summary                                                   | Type</span><br><span class="line">--+---------------------------------------+-----------------------------------------------------------+-----------</span><br><span class="line">  | gnome-desktop2-lang                   | Languages for package gnome-desktop2                      | package</span><br><span class="line">  | gnome-desktop2                        | The GNOME Desktop API Library                             | package</span><br><span class="line">  | libgnome-desktop-2-17                 | The GNOME Desktop API Library                             | package</span><br><span class="line">  | libgnome-desktop-3-10                 | The GNOME Desktop API Library                             | package</span><br><span class="line">  | libgnome-desktop-3-devel              | The GNOME Desktop API Library -- Development Files        | package</span><br><span class="line">  | libgnome-desktop-3_0-common           | The GNOME Desktop API Library -- Common data files        | package</span><br><span class="line">  | gnome-desktop-debugsource             | Debug sources for package gnome-desktop                   | package</span><br><span class="line">  | gnome-desktop-sharp2-debugsource      | Debug sources for package gnome-desktop-sharp2            | package</span><br><span class="line">  | gnome-desktop2-debugsource            | Debug sources for package gnome-desktop2                  | package</span><br><span class="line">  | libgnome-desktop-2-17-debuginfo       | Debug information for package libgnome-desktop-2-17       | package</span><br><span class="line">  | libgnome-desktop-3-10-debuginfo       | Debug information for package libgnome-desktop-3-10       | package</span><br><span class="line">  | libgnome-desktop-3_0-common-debuginfo | Debug information for package libgnome-desktop-3_0-common | package</span><br><span class="line">  | libgnome-desktop-2-17-debuginfo-32bit | Debug information for package libgnome-desktop-2-17       | package</span><br><span class="line">  | libgnome-desktop-3-10-debuginfo-32bit | Debug information for package libgnome-desktop-3-10       | package</span><br><span class="line">  | gnome-desktop-sharp2                  | Mono bindings for libgnome-desktop                        | package</span><br><span class="line">  | libgnome-desktop-2-devel              | The GNOME Desktop API Library -- Development Files        | packag</span><br><span class="line">  | gnome-desktop-lang                    | Languages for package gnome-desktop                       | package</span><br><span class="line">  | libgnome-desktop-2-17-32bit           | The GNOME Desktop API Library                             | package</span><br><span class="line">  | libgnome-desktop-3-10-32bit           | The GNOME Desktop API Library                             | package</span><br><span class="line">  | gnome-desktop                         | The GNOME Desktop API Library                             | srcpackage</span><br></pre></td></tr></table></figure><ol start="4"><li>获取一个模式包的信息（以 lamp_server 为例）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># zypper info -t pattern lamp_server</span><br><span class="line"></span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">Information for pattern lamp_server:</span><br><span class="line">------------------------------------</span><br><span class="line">Repository: openSUSE-13.2-Update</span><br><span class="line">Name: lamp_server</span><br><span class="line">Version: 20141007-5.1</span><br><span class="line">Arch: x86_64</span><br><span class="line">Vendor: openSUSE</span><br><span class="line">Installed: No</span><br><span class="line">Visible to User: Yes</span><br><span class="line">Summary: Web and LAMP Server</span><br><span class="line">Description: </span><br><span class="line">  Software to set up a Web server that is able to serve static, dynamic, and interactive content (like a Web shop). This includes Apache HTTP Server, the database management system MySQL,</span><br><span class="line">  and scripting languages such as PHP, Python, Ruby on Rails, or Perl.</span><br><span class="line">Contents:</span><br><span class="line"></span><br><span class="line">S | Name                          | Type    | Dependency</span><br><span class="line">--+-------------------------------+---------+-----------</span><br><span class="line">  | apache2-mod_php5              | package |</span><br><span class="line">  | php5-iconv                    | package |</span><br><span class="line">i | patterns-openSUSE-base        | package |</span><br><span class="line">i | apache2-prefork               | package |</span><br><span class="line">  | php5-dom                      | package |</span><br><span class="line">  | php5-mysql                    | package |</span><br><span class="line">i | apache2                       | package |</span><br><span class="line">  | apache2-example-pages         | package |</span><br><span class="line">  | mariadb                       | package |</span><br><span class="line">  | apache2-mod_perl              | package |</span><br><span class="line">  | php5-ctype                    | package |</span><br><span class="line">  | apache2-doc                   | package |</span><br><span class="line">  | yast2-http-server             | package |</span><br><span class="line">  | patterns-openSUSE-lamp_server | package |</span><br></pre></td></tr></table></figure><ol start="5"><li>开启一个Zypper Shell 的会话。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper shell </span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper sh </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zypper&gt; help</span><br><span class="line">  Usage:</span><br><span class="line">    zypper [--global-options]</span><br></pre></td></tr></table></figure><p><strong>注意</strong>:在 Zypper shell里面可以通过键入 ‘help‘ 获得全局选项以及子命令的列表。</p><h3 id="Zypper-软件库管理"><a href="#Zypper-软件库管理" class="headerlink" title="Zypper 软件库管理"></a>Zypper 软件库管理</h3><h4 id="列举已定义的软件库"><a href="#列举已定义的软件库" class="headerlink" title="列举已定义的软件库"></a>列举已定义的软件库</h4><ol><li>使用 ‘zypper repos’ 或者 ‘zypper lr’ 来列举所有已定以的软件库。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper repos</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># zypper lr</span><br><span class="line">  | Alias                     | Name                               | Enabled | Refresh</span><br><span class="line">--+---------------------------+------------------------------------+---------+--------</span><br><span class="line">1 | openSUSE-13.2-0           | openSUSE-13.2-0                    | Yes     | No</span><br><span class="line">2 | repo-debug                | openSUSE-13.2-Debug                | Yes     | Yes</span><br><span class="line">3 | repo-debug-update         | openSUSE-13.2-Update-Debug         | No      | Yes</span><br><span class="line">4 | repo-debug-update-non-oss | openSUSE-13.2-Update-Debug-Non-Oss | No      | Yes</span><br><span class="line">5 | repo-non-oss              | openSUSE-13.2-Non-Oss              | Yes     | Yes</span><br><span class="line">6 | repo-oss                  | openSUSE-13.2-Oss                  | Yes     | Yes</span><br><span class="line">7 | repo-source               | openSUSE-13.2-Source               | No      | Yes</span><br><span class="line">8 | repo-update               | openSUSE-13.2-Update               | Yes     | Yes</span><br><span class="line">9 | repo-update-non-oss       | openSUSE-13.2-Update-Non-Oss       | Yes     | Yes</span><br></pre></td></tr></table></figure><ol start="2"><li>在表格里面显示 zypper URI</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># zypper lr -u</span><br><span class="line">  | Alias                     | Name                               | Enabled | Refresh | URI</span><br><span class="line">--+---------------------------+------------------------------------+---------+---------+----------------------------------------------------------------</span><br><span class="line">1 | openSUSE-13.2-0           | openSUSE-13.2-0                    | Yes     | No      | cd:///?devices=/dev/disk/by-id/ata-VBOX_CD-ROM_VB2-01700376</span><br><span class="line">2 | repo-debug                | openSUSE-13.2-Debug                | Yes     | Yes     | http://download.opensuse.org/debug/distribution/13.2/repo/oss/</span><br><span class="line">3 | repo-debug-update         | openSUSE-13.2-Update-Debug         | No      | Yes     | http://download.opensuse.org/debug/update/13.2/</span><br><span class="line">4 | repo-debug-update-non-oss | openSUSE-13.2-Update-Debug-Non-Oss | No      | Yes     | http://download.opensuse.org/debug/update/13.2-non-oss/</span><br><span class="line">5 | repo-non-oss              | openSUSE-13.2-Non-Oss              | Yes     | Yes     | http://download.opensuse.org/distribution/13.2/repo/non-oss/</span><br><span class="line">6 | repo-oss                  | openSUSE-13.2-Oss                  | Yes     | Yes     | http://download.opensuse.org/distribution/13.2/repo/oss/</span><br><span class="line">7 | repo-source               | openSUSE-13.2-Source               | No      | Yes     | http://download.opensuse.org/source/distribution/13.2/repo/oss/</span><br><span class="line">8 | repo-update               | openSUSE-13.2-Update               | Yes     | Yes     | http://download.opensuse.org/update/13.2/</span><br><span class="line">9 | repo-update-non-oss       | openSUSE-13.2-Update-Non-Oss       | Yes     | Yes     | http://download.opensuse.org/update/13.2-non-oss/</span><br></pre></td></tr></table></figure><ol start="3"><li>根据优先级列举软件库。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># zypper lr -P</span><br><span class="line">  | Alias                     | Name                               | Enabled | Refresh | Priority</span><br><span class="line">--+---------------------------+------------------------------------+---------+---------+---------</span><br><span class="line">1 | openSUSE-13.2-0           | openSUSE-13.2-0                    | Yes     | No      |   99</span><br><span class="line">2 | repo-debug                | openSUSE-13.2-Debug                | Yes     | Yes     |   99</span><br><span class="line">3 | repo-debug-update         | openSUSE-13.2-Update-Debug         | No      | Yes     |   99</span><br><span class="line">4 | repo-debug-update-non-oss | openSUSE-13.2-Update-Debug-Non-Oss | No      | Yes     |   99</span><br><span class="line">5 | repo-non-oss              | openSUSE-13.2-Non-Oss              | Yes     | Yes     |   85</span><br><span class="line">6 | repo-oss                  | openSUSE-13.2-Oss                  | Yes     | Yes     |   99</span><br><span class="line">7 | repo-source               | openSUSE-13.2-Source               | No      | Yes     |   99</span><br><span class="line">8 | repo-update               | openSUSE-13.2-Update               | Yes     | Yes     |   99</span><br><span class="line">9 | repo-update-non-oss       | openSUSE-13.2-Update-Non-Oss       | Yes     | Yes     |   99</span><br></pre></td></tr></table></figure><h4 id="刷新软件库"><a href="#刷新软件库" class="headerlink" title="刷新软件库"></a>刷新软件库</h4><ol><li>使用 ‘zypper refresh’ or ‘zypper ref’ 来刷新 zypper 软件库。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper refresh </span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># zypper ref</span><br><span class="line">Repository &#x27;openSUSE-13.2-0&#x27; is up to date.</span><br><span class="line">Repository &#x27;openSUSE-13.2-Debug&#x27; is up to date.</span><br><span class="line">Repository &#x27;openSUSE-13.2-Non-Oss&#x27; is up to date.</span><br><span class="line">Repository &#x27;openSUSE-13.2-Oss&#x27; is up to date.</span><br><span class="line">Repository &#x27;openSUSE-13.2-Update&#x27; is up to date.</span><br><span class="line">Repository &#x27;openSUSE-13.2-Update-Non-Oss&#x27; is up to date.</span><br><span class="line">All repositories have been refreshed. </span><br></pre></td></tr></table></figure><ol start="2"><li>刷新一个指定的软件库（以 ‘repo-non-oss’ 为例 ）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># zypper refresh repo-non-oss</span><br><span class="line">Repository &#x27;openSUSE-13.2-Non-Oss&#x27; is up to date.</span><br><span class="line">Specified repositories have been refreshed. </span><br></pre></td></tr></table></figure><ol start="3"><li>强制更新一个软件库（以 ‘repo-non-oss’ 为例 ）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># zypper ref -f repo-non-oss </span><br><span class="line">Forcing raw metadata refresh</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Non-Oss&#x27; metadata ............................................................[done]</span><br><span class="line">Forcing building of repository cache</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Non-Oss&#x27; cache ............................................................[done]</span><br><span class="line">Specified repositories have been refreshed.</span><br></pre></td></tr></table></figure><h4 id="修改软件库"><a href="#修改软件库" class="headerlink" title="修改软件库"></a>修改软件库</h4><p>本文中我们使用‘zypper modifyrepo‘ 或者 ‘zypper mr‘ 来关闭或者开启 zypper 软件库。</p><ol><li>在关闭一个软件库之前，我们需要知道在 zypper 中，每一个软件库有一个唯一的标示数字与之关联，该数字用于打开或者关闭与之相联系的软件库。假设我们需要关闭 ‘repo-oss’ 软件库，那么我们可以通过以下的法来获得该软件库的标志数字。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># zypper lr</span><br><span class="line">  | Alias                     | Name                               | Enabled | Refresh</span><br><span class="line">--+---------------------------+------------------------------------+---------+--------</span><br><span class="line">1 | openSUSE-13.2-0           | openSUSE-13.2-0                    | Yes     | No</span><br><span class="line">2 | repo-debug                | openSUSE-13.2-Debug                | Yes     | Yes</span><br><span class="line">3 | repo-debug-update         | openSUSE-13.2-Update-Debug         | No      | Yes</span><br><span class="line">4 | repo-debug-update-non-oss | openSUSE-13.2-Update-Debug-Non-Oss | No      | Yes</span><br><span class="line">5 | repo-non-oss              | openSUSE-13.2-Non-Oss              | Yes     | Yes</span><br><span class="line">6 | repo-oss                  | openSUSE-13.2-Oss                  | No      | Yes</span><br><span class="line">7 | repo-source               | openSUSE-13.2-Source               | No      | Yes</span><br><span class="line">8 | repo-update               | openSUSE-13.2-Update               | Yes     | Yes</span><br><span class="line">9 | repo-update-non-oss       | openSUSE-13.2-Update-Non-Oss       | Yes     | Yes</span><br></pre></td></tr></table></figure><p>从以上输出的列表中我们可以看到 ‘repo-oss’ 库的标示数字是 6，因此通过以下的命令来关闭该库。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -d 6</span><br><span class="line">Repository &#x27;repo-oss&#x27; has been successfully disabled.</span><br></pre></td></tr></table></figure><ol start="2"><li>如果需要再次开启软件库 ‘repo-oss‘, 接上例，与之相关联的标示数字为 6。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -e 6</span><br><span class="line">Repository &#x27;repo-oss&#x27; has been successfully enabled.</span><br></pre></td></tr></table></figure><ol start="3"><li>针对某一个软件库（以 ‘repo-non-oss’ 为例 ）开启自动刷新( auto-refresh )和 rpm 缓存，并设置该软件库的优先级，比如85。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -rk -p 85 repo-non-oss</span><br><span class="line">Repository &#x27;repo-non-oss&#x27; priority has been left unchanged (85)</span><br><span class="line">Nothing to change for repository &#x27;repo-non-oss&#x27;.</span><br></pre></td></tr></table></figure><ol start="4"><li>对所有的软件库关闭 rpm 文件缓存。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -Ka</span><br><span class="line">RPM files caching has been disabled for repository &#x27;openSUSE-13.2-0&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug-update&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug-update-non-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-non-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-source&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-update&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-update-non-oss&#x27;.</span><br></pre></td></tr></table></figure><ol start="5"><li>对所有的软件库开启 rpm 文件缓存。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -ka</span><br><span class="line">RPM files caching has been enabled for repository &#x27;openSUSE-13.2-0&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug-update&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug-update-non-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-non-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-source&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-update&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-update-non-oss&#x27;.</span><br></pre></td></tr></table></figure><ol start="6"><li>关闭远程库的 rpm 文件缓存</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -Kt</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug-update&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-debug-update-non-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-non-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-oss&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-source&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-update&#x27;.</span><br><span class="line">RPM files caching has been disabled for repository &#x27;repo-update-non-oss&#x27;.</span><br></pre></td></tr></table></figure><ol start="7"><li>开启远程软件库的 rpm 文件缓存。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># zypper mr -kt</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug-update&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-debug-update-non-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-non-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-oss&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-source&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-update&#x27;.</span><br><span class="line">RPM files caching has been enabled for repository &#x27;repo-update-non-oss&#x27;.</span><br></pre></td></tr></table></figure><h4 id="增加新的软件库"><a href="#增加新的软件库" class="headerlink" title="增加新的软件库"></a>增加新的软件库</h4><p>可以通过这两个 zypper 指令 – ‘zypper addrepo’ 和 ‘zypper ar’ 来增加新的软件库。在此过程中可以使用 URL 或者软件库的别名。</p><ol><li>增加一个新的软件库（ 以 “<a target="_blank" rel="noopener" href="http://download.opensuse.org/update/12.3/%E2%80%9D">http://download.opensuse.org/update/12.3/”</a> 为例 ）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># zypper ar http://download.opensuse.org/update/11.1/ update</span><br><span class="line">Adding repository &#x27;update&#x27; .............................................................................................................................................................[done]</span><br><span class="line">Repository &#x27;update&#x27; successfully added</span><br><span class="line">Enabled     : Yes</span><br><span class="line">Autorefresh : No</span><br><span class="line">GPG check   : Yes</span><br><span class="line">URI         : http://download.opensuse.org/update/11.1/</span><br></pre></td></tr></table></figure><ol start="2"><li>更改一个软件库的名字，这将仅仅改变软件库的别名。 命令 ‘zypper namerepo’ 或者 ‘zypperr nr’ 可以胜任此工作。例如更改标示数字为10的软件库的名字为 ‘upd8’，或者说将标示数字为10的软件库的别名改为 ‘upd8’，可以使用下面的命令。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># zypper nr 10 upd8</span><br><span class="line">Repository &#x27;update&#x27; renamed to &#x27;upd8&#x27;.</span><br></pre></td></tr></table></figure><h4 id="删除软件库"><a href="#删除软件库" class="headerlink" title="删除软件库"></a>删除软件库</h4><ol><li>删除一个软件库。要从系统删除一个软件库可以使 ‘zypper removerepo’ 或者 ‘zypper rr’。例如以下的命令可以删除软件库 ‘upd8’</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># zypper rr upd8</span><br><span class="line"># Removing repository &#x27;upd8&#x27; .........................................................................................[done]</span><br><span class="line">Repository &#x27;upd8&#x27; has been removed.</span><br></pre></td></tr></table></figure><h3 id="使用-zypper-进行软件包管理"><a href="#使用-zypper-进行软件包管理" class="headerlink" title="使用 zypper 进行软件包管理"></a>使用 zypper 进行软件包管理</h3><h4 id="用-zypper-安装一个软件包"><a href="#用-zypper-安装一个软件包" class="headerlink" title="用 zypper 安装一个软件包"></a>用 zypper 安装一个软件包</h4><ol><li>在 zypper 中，我们可以通过软件包的功能名称来安装一个软件包。以 Firefox 为例，以下的命令可以用来安装该软件包。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># zypper in MozillaFirefox</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 128 NEW packages are going to be installed:</span><br><span class="line">  adwaita-icon-theme at-spi2-atk-common at-spi2-atk-gtk2 at-spi2-core cantarell-fonts cups-libs desktop-file-utils fontconfig gdk-pixbuf-query-loaders gstreamer gstreamer-fluendo-mp3</span><br><span class="line">  gstreamer-plugins-base gtk2-branding-openSUSE gtk2-data gtk2-immodule-amharic gtk2-immodule-inuktitut gtk2-immodule-thai gtk2-immodule-vietnamese gtk2-metatheme-adwaita</span><br><span class="line">  gtk2-theming-engine-adwaita gtk2-tools gtk3-data gtk3-metatheme-adwaita gtk3-tools hicolor-icon-theme hicolor-icon-theme-branding-openSUSE libasound2 libatk-1_0-0 libatk-bridge-2_0-0</span><br><span class="line">  libatspi0 libcairo2 libcairo-gobject2 libcanberra0 libcanberra-gtk0 libcanberra-gtk2-module libcanberra-gtk3-0 libcanberra-gtk3-module libcanberra-gtk-module-common libcdda_interface0</span><br><span class="line">  libcdda_paranoia0 libcolord2 libdrm2 libdrm_intel1 libdrm_nouveau2 libdrm_radeon1 libFLAC8 libfreebl3 libgbm1 libgdk_pixbuf-2_0-0 libgraphite2-3 libgstapp-1_0-0 libgstaudio-1_0-0</span><br><span class="line">  libgstpbutils-1_0-0 libgstreamer-1_0-0 libgstriff-1_0-0 libgsttag-1_0-0 libgstvideo-1_0-0 libgthread-2_0-0 libgtk-2_0-0 libgtk-3-0 libharfbuzz0 libjasper1 libjbig2 libjpeg8 libjson-c2</span><br><span class="line">  liblcms2-2 libLLVM libltdl7 libnsssharedhelper0 libogg0 liborc-0_4-0 libpackagekit-glib2-18 libpango-1_0-0 libpciaccess0 libpixman-1-0 libpulse0 libsndfile1 libsoftokn3 libspeex1</span><br><span class="line">  libsqlite3-0 libstartup-notification-1-0 libtheoradec1 libtheoraenc1 libtiff5 libvisual libvorbis0 libvorbisenc2 libvorbisfile3 libwayland-client0 libwayland-cursor0 libwayland-server0</span><br><span class="line">  libX11-xcb1 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-shm0 libxcb-sync1 libxcb-util1 libxcb-xfixes0 libXcomposite1 libXcursor1 libXdamage1 libXevie1</span><br><span class="line">  libXfixes3 libXft2 libXi6 libXinerama1 libxkbcommon-0_4_3 libXrandr2 libXrender1 libxshmfence1 libXtst6 libXv1 libXxf86vm1 Mesa Mesa-libEGL1 Mesa-libGL1 Mesa-libglapi0</span><br><span class="line">  metatheme-adwaita-common MozillaFirefox MozillaFirefox-branding-openSUSE mozilla-nss mozilla-nss-certs PackageKit-gstreamer-plugin pango-tools sound-theme-freedesktop</span><br><span class="line"></span><br><span class="line">The following 10 recommended packages were automatically selected:</span><br><span class="line">  gstreamer-fluendo-mp3 gtk2-branding-openSUSE gtk2-data gtk2-immodule-amharic gtk2-immodule-inuktitut gtk2-immodule-thai gtk2-immodule-vietnamese libcanberra0 libpulse0</span><br><span class="line">  PackageKit-gstreamer-plugin</span><br><span class="line"></span><br><span class="line">128 new packages to install.</span><br><span class="line">Overall download size: 77.2 MiB. Already cached: 0 B  After the operation, additional 200.0 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br><span class="line">Retrieving package cantarell-fonts-0.0.16-1.1.noarch                                                                                                   (1/128),  74.1 KiB (115.6 KiB unpacked)</span><br><span class="line">Retrieving: cantarell-fonts-0.0.16-1.1.noarch.rpm .........................................................................................................................[done (63.4 KiB/s)]</span><br><span class="line">Retrieving package hicolor-icon-theme-0.13-2.1.2.noarch                                                                                                (2/128),  40.1 KiB ( 50.5 KiB unpacked)</span><br><span class="line">Retrieving: hicolor-icon-theme-0.13-2.1.2.noarch.rpm ...................................................................................................................................[done]</span><br><span class="line">Retrieving package sound-theme-freedesktop-0.8-7.1.2.noarch                                                                                            (3/128), 372.6 KiB (460.3 KiB unpacked) </span><br></pre></td></tr></table></figure><ol start="2"><li>安装指定版本号的软件包，(以 gcc 5.1 为例)。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># zypper in &#x27;gcc&lt;5.1&#x27;</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 13 NEW packages are going to be installed:</span><br><span class="line">  cpp cpp48 gcc gcc48 libasan0 libatomic1-gcc49 libcloog-isl4 libgomp1-gcc49 libisl10 libitm1-gcc49 libmpc3 libmpfr4 libtsan0-gcc49</span><br><span class="line"></span><br><span class="line">13 new packages to install.</span><br><span class="line">Overall download size: 14.5 MiB. Already cached: 0 B  After the operation, additional 49.4 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y </span><br></pre></td></tr></table></figure><ol start="3"><li>为特定的CPU架构安装软件包（以兼容 i586 的 gcc 为例）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># zypper in gcc.i586</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 13 NEW packages are going to be installed:</span><br><span class="line">  cpp cpp48 gcc gcc48 libasan0 libatomic1-gcc49 libcloog-isl4 libgomp1-gcc49 libisl10 libitm1-gcc49 libmpc3 libmpfr4 libtsan0-gcc49</span><br><span class="line"></span><br><span class="line">13 new packages to install.</span><br><span class="line">Overall download size: 14.5 MiB. Already cached: 0 B  After the operation, additional 49.4 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br><span class="line">Retrieving package libasan0-4.8.3+r212056-2.2.4.x86_64                                                                                                  (1/13),  74.2 KiB (166.9 KiB unpacked)</span><br><span class="line">Retrieving: libasan0-4.8.3+r212056-2.2.4.x86_64.rpm .......................................................................................................................[done (79.2 KiB/s)]</span><br><span class="line">Retrieving package libatomic1-gcc49-4.9.0+r211729-2.1.7.x86_64                                                                                          (2/13),  14.3 KiB ( 26.1 KiB unpacked)</span><br><span class="line">Retrieving: libatomic1-gcc49-4.9.0+r211729-2.1.7.x86_64.rpm ...............................................................................................................[done (55.3 KiB/s)] </span><br></pre></td></tr></table></figure><ol start="4"><li>为特定的CPU架构安装指定版本号的软件包（以兼容 i586 且版本低于5.1的 gcc 为例）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># zypper in &#x27;gcc.i586&lt;5.1&#x27;</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 13 NEW packages are going to be installed:</span><br><span class="line">  cpp cpp48 gcc gcc48 libasan0 libatomic1-gcc49 libcloog-isl4 libgomp1-gcc49 libisl10 libitm1-gcc49 libmpc3 libmpfr4 libtsan0-gcc49</span><br><span class="line"></span><br><span class="line">13 new packages to install.</span><br><span class="line">Overall download size: 14.4 MiB. Already cached: 129.5 KiB  After the operation, additional 49.4 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br><span class="line">In cache libasan0-4.8.3+r212056-2.2.4.x86_64.rpm                                                                                                        (1/13),  74.2 KiB (166.9 KiB unpacked)</span><br><span class="line">In cache libatomic1-gcc49-4.9.0+r211729-2.1.7.x86_64.rpm                                           (2/13),  14.3 KiB ( 26.1 KiB unpacked)</span><br><span class="line">In cache libgomp1-gcc49-4.9.0+r211729-2.1.7.x86_64.rpm                                             (3/13),  41.1 KiB ( 90.7 KiB unpacked) </span><br></pre></td></tr></table></figure><ol start="5"><li>从指定的软件库里面安装一个软件包，例如从 amarok 中安装 libxine。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># zypper in amarok upd:libxine1</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line">The following 202 NEW packages are going to be installed:</span><br><span class="line">  amarok bundle-lang-kde-en clamz cups-libs enscript fontconfig gdk-pixbuf-query-loaders ghostscript-fonts-std gptfdisk gstreamer gstreamer-plugins-base hicolor-icon-theme</span><br><span class="line">  hicolor-icon-theme-branding-openSUSE htdig hunspell hunspell-tools icoutils ispell ispell-american kde4-filesystem kdebase4-runtime kdebase4-runtime-branding-openSUSE kdelibs4</span><br><span class="line">  kdelibs4-branding-openSUSE kdelibs4-core kdialog libakonadi4 l</span><br><span class="line">.....</span><br></pre></td></tr></table></figure><ol start="6"><li>通过指定软件包的名字安装软件包。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># zypper in -n git</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 35 NEW packages are going to be installed:</span><br><span class="line">  cvs cvsps fontconfig git git-core git-cvs git-email git-gui gitk git-svn git-web libserf-1-1 libsqlite3-0 libXft2 libXrender1 libXss1 perl-Authen-SASL perl-Clone perl-DBD-SQLite perl-DBI</span><br><span class="line">  perl-Error perl-IO-Socket-SSL perl-MLDBM perl-Net-Daemon perl-Net-SMTP-SSL perl-Net-SSLeay perl-Params-Util perl-PlRPC perl-SQL-Statement perl-Term-ReadKey subversion subversion-perl tcl</span><br><span class="line">  tk xhost</span><br><span class="line"></span><br><span class="line">The following 13 recommended packages were automatically selected:</span><br><span class="line">  git-cvs git-email git-gui gitk git-svn git-web perl-Authen-SASL perl-Clone perl-MLDBM perl-Net-Daemon perl-Net-SMTP-SSL perl-PlRPC perl-SQL-Statement</span><br><span class="line"></span><br><span class="line">The following package is suggested, but will not be installed:</span><br><span class="line">  git-daemon</span><br><span class="line"></span><br><span class="line">35 new packages to install.</span><br><span class="line">Overall download size: 15.6 MiB. Already cached: 0 B  After the operation, additional 56.7 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y </span><br></pre></td></tr></table></figure><ol start="7"><li>通过通配符来安装软件包，例如，安装所有 php5 的软件包。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># zypper in php5*</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Problem: php5-5.6.1-18.1.x86_64 requires smtp_daemon, but this requirement cannot be provided</span><br><span class="line">  uninstallable providers: exim-4.83-3.1.8.x86_64[openSUSE-13.2-0]</span><br><span class="line">                   postfix-2.11.0-5.2.2.x86_64[openSUSE-13.2-0]</span><br><span class="line">                   sendmail-8.14.9-2.2.2.x86_64[openSUSE-13.2-0]</span><br><span class="line">                   exim-4.83-3.1.8.i586[repo-oss]</span><br><span class="line">                   msmtp-mta-1.4.32-2.1.3.i586[repo-oss]</span><br><span class="line">                   postfix-2.11.0-5.2.2.i586[repo-oss]</span><br><span class="line">                   sendmail-8.14.9-2.2.2.i586[repo-oss]</span><br><span class="line">                   exim-4.83-3.1.8.x86_64[repo-oss]</span><br><span class="line">                   msmtp-mta-1.4.32-2.1.3.x86_64[repo-oss]</span><br><span class="line">                   postfix-2.11.0-5.2.2.x86_64[repo-oss]</span><br><span class="line">                   sendmail-8.14.9-2.2.2.x86_64[repo-oss]</span><br><span class="line">                   postfix-2.11.3-5.5.1.i586[repo-update]</span><br><span class="line">                   postfix-2.11.3-5.5.1.x86_64[repo-update]</span><br><span class="line"> Solution 1: Following actions will be done:</span><br><span class="line">  do not install php5-5.6.1-18.1.x86_64</span><br><span class="line">  do not install php5-pear-Auth_SASL-1.0.6-7.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Http-2.0.1-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Image-2.0.1-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Kolab_Format-2.0.1-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Ldap-2.0.1-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Memcache-2.0.1-7.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Mime-2.0.2-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Oauth-2.0.0-6.1.3.noarch</span><br><span class="line">  do not install php5-pear-Horde_Pdf-2.0.1-6.1.3.noarch</span><br><span class="line">....</span><br></pre></td></tr></table></figure><ol start="8"><li>使用模式名称（模式名称是一类软件包的名字）来批量安装软件包。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># zypper in -t pattern lamp_server</span><br><span class="line">ading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 29 NEW packages are going to be installed:</span><br><span class="line">  apache2 apache2-doc apache2-example-pages apache2-mod_perl apache2-prefork patterns-openSUSE-lamp_server perl-Data-Dump perl-Encode-Locale perl-File-Listing perl-HTML-Parser</span><br><span class="line">  perl-HTML-Tagset perl-HTTP-Cookies perl-HTTP-Daemon perl-HTTP-Date perl-HTTP-Message perl-HTTP-Negotiate perl-IO-HTML perl-IO-Socket-SSL perl-libwww-perl perl-Linux-Pid</span><br><span class="line">  perl-LWP-MediaTypes perl-LWP-Protocol-https perl-Net-HTTP perl-Net-SSLeay perl-Tie-IxHash perl-TimeDate perl-URI perl-WWW-RobotRules yast2-http-server</span><br><span class="line"></span><br><span class="line">The following NEW pattern is going to be installed:</span><br><span class="line">  lamp_server</span><br><span class="line"></span><br><span class="line">The following 10 recommended packages were automatically selected:</span><br><span class="line">  apache2 apache2-doc apache2-example-pages apache2-mod_perl apache2-prefork perl-Data-Dump perl-IO-Socket-SSL perl-LWP-Protocol-https perl-TimeDate yast2-http-server</span><br><span class="line"></span><br><span class="line">29 new packages to install.</span><br><span class="line">Overall download size: 7.2 MiB. Already cached: 1.2 MiB  After the operation, additional 34.7 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): </span><br></pre></td></tr></table></figure><ol start="9"><li>使用一行命令安装一个软件包同时卸载另一个软件包，例如在安装 nano 的同时卸载 vi</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># zypper in nano -vi</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">&#x27;-vi&#x27; not found in package names. Trying capabilities.</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 2 NEW packages are going to be installed:</span><br><span class="line">  nano nano-lang</span><br><span class="line"></span><br><span class="line">The following package is going to be REMOVED:</span><br><span class="line">  vim</span><br><span class="line"></span><br><span class="line">The following recommended package was automatically selected:</span><br><span class="line">  nano-lang</span><br><span class="line"></span><br><span class="line">2 new packages to install, 1 to remove.</span><br><span class="line">Overall download size: 550.0 KiB. Already cached: 0 B  After the operation, 463.3 KiB will be freed.</span><br><span class="line">Continue? [y/n/? shows all options] (y):</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ol start="10"><li>使用 zypper 安装 rpm 软件包。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># zypper in teamviewer*.rpm</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 24 NEW packages are going to be installed:</span><br><span class="line">  alsa-oss-32bit fontconfig-32bit libasound2-32bit libexpat1-32bit libfreetype6-32bit libgcc_s1-gcc49-32bit libICE6-32bit libjpeg62-32bit libpng12-0-32bit libpng16-16-32bit libSM6-32bit</span><br><span class="line">  libuuid1-32bit libX11-6-32bit libXau6-32bit libxcb1-32bit libXdamage1-32bit libXext6-32bit libXfixes3-32bit libXinerama1-32bit libXrandr2-32bit libXrender1-32bit libXtst6-32bit</span><br><span class="line">  libz1-32bit teamviewer</span><br><span class="line"></span><br><span class="line">The following recommended package was automatically selected:</span><br><span class="line">  alsa-oss-32bit</span><br><span class="line"></span><br><span class="line">24 new packages to install.</span><br><span class="line">Overall download size: 41.2 MiB. Already cached: 0 B  After the operation, additional 119.7 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y):</span><br><span class="line">..</span><br></pre></td></tr></table></figure><h4 id="使用-zypper-卸载软件包"><a href="#使用-zypper-卸载软件包" class="headerlink" title="使用 zypper 卸载软件包"></a>使用 zypper 卸载软件包</h4><ol><li>命令 ‘zypper remove‘ 和 ‘zypper rm‘ 用于卸载软件包。例如卸载 apache2:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper remove apache2 </span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># zypper rm apache2</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 2 packages are going to be REMOVED:</span><br><span class="line">  apache2 apache2-prefork</span><br><span class="line"></span><br><span class="line">2 packages to remove.</span><br><span class="line">After the operation, 4.2 MiB will be freed.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br><span class="line">(1/2) Removing apache2-2.4.10-19.1 ........................................................................[done]</span><br><span class="line">(2/2) Removing apache2-prefork-2.4.10-19.1 ................................................................[done] </span><br></pre></td></tr></table></figure><h4 id="使用Zypper-进行软件包更新"><a href="#使用Zypper-进行软件包更新" class="headerlink" title="使用Zypper 进行软件包更新"></a>使用Zypper 进行软件包更新</h4><ol><li>更新所有的软件包，可以使用 ‘zypper update‘ 或者 ‘zypper up‘。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper up </span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># zypper update</span><br><span class="line"></span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Nothing to do. </span><br></pre></td></tr></table></figure><ol start="2"><li>更新指定的软件包，例如更新 apache2 以及 openssh。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> zypper up apache2 openssh</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">No update candidate for &#x27;apache2-2.4.10-19.1.x86_64&#x27;. The highest available version is already installed.</span><br><span class="line">No update candidate for &#x27;openssh-6.6p1-5.1.3.x86_64&#x27;. The highest available version is already installed.</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Nothing to do.</span><br></pre></td></tr></table></figure><ol start="3"><li>安装一个软件库，例如 mariadb，如果该库存在则更新之。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># zypper in mariadb</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">&#x27;mariadb&#x27; is already installed.</span><br><span class="line">No update candidate for &#x27;mariadb-10.0.13-2.6.1.x86_64&#x27;. The highest available version is already installed.</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Nothing to do.</span><br></pre></td></tr></table></figure><h4 id="安装源文件并且构建依赖关系"><a href="#安装源文件并且构建依赖关系" class="headerlink" title="安装源文件并且构建依赖关系"></a>安装源文件并且构建依赖关系</h4><p>命令 ‘zypper source-install‘ 或者 ‘zypper si‘ 可以用于从源文件编译软件包</p><ol><li>安装某一个软件包的源文件及其依赖关系，例如 mariadb。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># zypper si mariadb</span><br><span class="line">Reading installed packages...</span><br><span class="line">Loading repository data...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 36 NEW packages are going to be installed:</span><br><span class="line">  autoconf automake bison cmake cpp cpp48 gcc gcc48 gcc48-c++ gcc-c++ libaio-devel libarchive13 libasan0 libatomic1-gcc49 libcloog-isl4 libedit-devel libevent-devel libgomp1-gcc49 libisl10</span><br><span class="line">  libitm1-gcc49 libltdl7 libmpc3 libmpfr4 libopenssl-devel libstdc++48-devel libtool libtsan0-gcc49 m4 make ncurses-devel pam-devel readline-devel site-config tack tcpd-devel zlib-devel</span><br><span class="line"></span><br><span class="line">The following source package is going to be installed:</span><br><span class="line">  mariadb</span><br><span class="line"></span><br><span class="line">36 new packages to install, 1 source package.</span><br><span class="line">Overall download size: 71.5 MiB. Already cached: 129.5 KiB  After the operation, additional 183.9 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y </span><br></pre></td></tr></table></figure><ol start="2"><li>仅为某一个软件包安装源文件，例如 mariadb</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># zypper in -D mariadb</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">&#x27;mariadb&#x27; is already installed.</span><br><span class="line">No update candidate for &#x27;mariadb-10.0.13-2.6.1.x86_64&#x27;. The highest available version is already installed.</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Nothing to do. </span><br></pre></td></tr></table></figure><ol start="3"><li>仅为某一个软件包安装依赖关系，例如 mariadb</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># zypper si -d mariadb</span><br><span class="line">Reading installed packages...</span><br><span class="line">Loading repository data...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following 36 NEW packages are going to be installed:</span><br><span class="line">  autoconf automake bison cmake cpp cpp48 gcc gcc48 gcc48-c++ gcc-c++ libaio-devel libarchive13 libasan0 libatomic1-gcc49 libcloog-isl4 libedit-devel libevent-devel libgomp1-gcc49 libisl10</span><br><span class="line">  libitm1-gcc49 libltdl7 libmpc3 libmpfr4 libopenssl-devel libstdc++48-devel libtool libtsan0-gcc49 m4 make ncurses-devel pam-devel readline-devel site-config tack tcpd-devel zlib-devel</span><br><span class="line"></span><br><span class="line">The following package is recommended, but will not be installed due to conflicts or dependency issues:</span><br><span class="line">  readline-doc</span><br><span class="line"></span><br><span class="line">36 new packages to install.</span><br><span class="line">Overall download size: 33.7 MiB. Already cached: 129.5 KiB  After the operation, additional 144.3 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br></pre></td></tr></table></figure><h4 id="在脚本和应用中调用-Zypper-（非交互式）"><a href="#在脚本和应用中调用-Zypper-（非交互式）" class="headerlink" title="在脚本和应用中调用 Zypper （非交互式）"></a>在脚本和应用中调用 Zypper （非交互式）</h4><ol><li>安装一个软件包，并且在安装过程中跳过与用户的交互, 例如 mariadb。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># zypper --non-interactive in mariadb</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">&#x27;mariadb&#x27; is already installed.</span><br><span class="line">No update candidate for &#x27;mariadb-10.0.13-2.6.1.x86_64&#x27;. The highest available version is already installed.</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Nothing to do.</span><br></pre></td></tr></table></figure><ol start="2"><li>卸载一个软件包，并且在卸载过程中跳过与用户的交互，例如 mariadb</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># zypper --non-interactive rm mariadb</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">The following package is going to be REMOVED:</span><br><span class="line">  mariadb</span><br><span class="line"></span><br><span class="line">1 package to remove.</span><br><span class="line">After the operation, 71.8 MiB will be freed.</span><br><span class="line">Continue? [y/n/? shows all options] (y): y</span><br><span class="line">(1/1) Removing mariadb-10.0.13-2.6.1 .............................................................................[done] </span><br></pre></td></tr></table></figure><ol start="3"><li>以 XML 格式显示 zypper 的输出。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># zypper --xmlout</span><br><span class="line">  Usage:</span><br><span class="line">    zypper [--global-options]  [--command-options] [arguments]</span><br><span class="line"></span><br><span class="line">  Global Options</span><br><span class="line">....</span><br></pre></td></tr></table></figure><ol start="4"><li>在安装过程中禁止详细信息输出到屏幕。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># zypper --quiet in mariadb</span><br><span class="line">The following NEW package is going to be installed:</span><br><span class="line">  mariadb</span><br><span class="line"></span><br><span class="line">1 new package to install.</span><br><span class="line">Overall download size: 0 B. Already cached: 7.8 MiB  After the operation, additional 71.8 MiB will be used.</span><br><span class="line">Continue? [y/n/? shows all options] (y):</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ol start="5"><li>在卸载过程中禁止详细信息输出到屏幕</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zypper --quiet rm mariadb </span><br></pre></td></tr></table></figure><ol start="6"><li>自动地同意版权或者协议。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># zypper patch --auto-agree-with-licenses</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line">Resolving package dependencies...</span><br><span class="line"></span><br><span class="line">Nothing to do.</span><br></pre></td></tr></table></figure><h4 id="清除-Zypper-缓存以及查看历史信息"><a href="#清除-Zypper-缓存以及查看历史信息" class="headerlink" title="清除 Zypper 缓存以及查看历史信息"></a>清除 Zypper 缓存以及查看历史信息</h4><ol><li>以下指令可以用来清理Zypper缓存。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># zypper clean</span><br><span class="line">All repositories have been cleaned up.</span><br></pre></td></tr></table></figure><p>如果需要一次性地清理元数据以及软件包缓存，可以通过 -all 或 -a 选项来达到目的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre&gt;&lt;code&gt;# zypper clean -a</span><br><span class="line">All repositories have been cleaned up.&lt;/code&gt;&lt;/pre&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>查看 Zypper 的历史信息。任何通过 Zypper 进行的软件包管理动作，包括安装、更新以及卸载都会在 &#x2F;var&#x2F;log&#x2F;zypp&#x2F;history中保留历史信息。可以通过 cat 来查看此文件，或者通过过滤器来筛选希望看到的信息。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> cat /var/log/zypp/history</span><br><span class="line">2015-05-07 15:43:03|install|boost-license1_54_0|1.54.0-10.1.3|noarch||openSUSE-13.2-0|0523b909d2aae5239f9841316dafaf3a37b4f096|</span><br><span class="line">2015-05-07 15:43:03|install|branding-openSUSE|13.2-3.6.1|noarch||openSUSE-13.2-0|6609def94b1987bf3f90a9467f4f7ab8f8d98a5c|</span><br><span class="line">2015-05-07 15:43:03|install|bundle-lang-common-en|13.2-3.3.1|noarch||openSUSE-13.2-0|ca55694e6fdebee6ce37ac7cf3725e2aa6edc342|</span><br><span class="line">2015-05-07 15:43:03|install|insserv-compat|0.1-12.2.2|noarch||openSUSE-13.2-0|6160de7fbf961a279591a83a1550093a581214d9|</span><br><span class="line">2015-05-07 15:43:03|install|libX11-data|1.6.2-5.1.2|noarch||openSUSE-13.2-0|f1cb58364ba9016c1f93b1a383ba12463c56885a|</span><br><span class="line">2015-05-07 15:43:03|install|libnl-config|3.2.25-2.1.2|noarch||openSUSE-13.2-0|aab2ded312a781e93b739b418e3d32fe4e187020|</span><br><span class="line">2015-05-07 15:43:04|install|wireless-regdb|2014.06.13-1.2|noarch||openSUSE-13.2-0|be8cb16f3e92af12b5ceb977e37e13f03c007bd1|</span><br><span class="line">2015-05-07 15:43:04|install|yast2-trans-en_US|3.1.0-2.1|noarch||openSUSE-13.2-0|1865754e5e0ec3c149ac850b340bcca55a3c404d|</span><br><span class="line">2015-05-07 15:43:04|install|yast2-trans-stats|2.19.0-16.1.3|noarch||openSUSE-13.2-0|b107d2b3e702835885b57b04d12d25539f262d1a|</span><br><span class="line">2015-05-07 15:43:04|install|cracklib-dict-full|2.8.12-64.1.2|x86_64||openSUSE-13.2-0|08bd45dbba7ad44e3a4837f730be76f55ad5dcfa|</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h4 id="使用-Zypper-进行SUSE系统升级"><a href="#使用-Zypper-进行SUSE系统升级" class="headerlink" title="使用 Zypper 进行SUSE系统升级"></a>使用 Zypper 进行SUSE系统升级</h4><ol><li>可以使用 Zypper 命令的 ‘dist-upgrade’ 选项来将当前的 SUSE Linux 升级至最新版本。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># zypper dist-upgrade</span><br><span class="line">You are about to do a distribution upgrade with all enabled repositories. Make sure these repositories are compatible before you continue. See &#x27;man zypper&#x27; for more information about this command.</span><br><span class="line">Building repository &#x27;openSUSE-13.2-0&#x27; cache .....................................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Debug&#x27; metadata ............................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Debug&#x27; cache .................................................................[done]</span><br><span class="line">Retrieving repository &#x27;openSUSE-13.2-Non-Oss&#x27; metadata ..........................................................[done]</span><br><span class="line">Building repository &#x27;openSUSE-13.2-Non-Oss&#x27; cache ...............................................................[done]</span><br></pre></td></tr></table></figure><p>正文至此结束。希望本文可以帮助读者尤其是新手们管理SUSE Linux系统和服务器。如果您觉得某些比较重要的命令被作者漏掉了，请在评论部分写下您的返回，作者将根据评论对文章进行更新。保持联络，保持评论，多谢支持。</p><hr><p>via: <a target="_blank" rel="noopener" href="http://www.tecmint.com/zypper-commands-to-manage-suse-linux-package-management/">http://www.tecmint.com/zypper-commands-to-manage-suse-linux-package-management/</a></p><p>作者：<a target="_blank" rel="noopener" href="http://www.tecmint.com/author/avishek/">Avishek Kumar</a> 译者：<a target="_blank" rel="noopener" href="https://github.com/zhangboyue">张博约</a> 校对：<a target="_blank" rel="noopener" href="https://github.com/wxy">wxy</a></p><p>本文由 <a target="_blank" rel="noopener" href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创翻译，<a target="_blank" rel="noopener" href="https://linux.cn/">Linux中国</a> 荣誉推出</p></div></div></div><div class="footer"><p class="footer-copyright"><span>Powered by <a target="_blank" href="https://hexo.io">Hexo</a></span> <span>Theme <a target="_blank" href="https://github.com/tinkink-co/hexo-theme-terminal">Terminal</a></span><script type="text/javascript" src="https://cdn.staticfile.net/jquery/3.4.1/jquery.min.js"></script><script>getCDNinfo=function(){$.ajax({url:"/cdn-cgi/trace",success:function(a,n){let i="Antananarivo, Madagascar - (TNR);Cape Town, South Africa - (CPT);Casablanca, Morocco - (CMN);Dar Es Salaam, Tanzania - (DAR);Djibouti City, Djibouti - (JIB);Durban, South Africa - (DUR);Johannesburg, South Africa - (JNB);Kigali, Rwanda - (KGL);Lagos, Nigeria - (LOS);Luanda, Angola - (LAD);Maputo, MZ - (MPM);Mombasa, Kenya - (MBA);Port Louis, Mauritius - (MRU);Réunion, France - (RUN);Bangalore, India - (BLR);Bangkok, Thailand - (BKK);Bandar Seri Begawan, Brunei - (BWN);Cebu, Philippines - (CEB);Chengdu, China - (CTU);Chennai, India - (MAA);Chittagong, Bangladesh - (CGP);Chongqing, China - (CKG);Colombo, Sri Lanka - (CMB);Dhaka, Bangladesh - (DAC);Dongguan, China - (SZX);Foshan, China - (FUO);Fuzhou, China - (FOC);Guangzhou, China - (CAN);Hangzhou, China - (HGH);Hanoi, Vietnam - (HAN);Hengyang, China - (HNY);Ho Chi Minh City, Vietnam - (SGN);Hong Kong - (HKG);Hyderabad, India - (HYD);Islamabad, Pakistan - (ISB);Jakarta, Indonesia - (CGK);Jinan, China - (TNA);Karachi, Pakistan - (KHI);Kathmandu, Nepal - (KTM);Kolkata, India - (CCU);Kuala Lumpur, Malaysia - (KUL);Lahore, Pakistan - (LHE);Langfang, China - (NAY);Luoyang, China - (LYA);Macau - (MFM);Malé, Maldives - (MLE);Manila, Philippines - (MNL);Mumbai, India - (BOM);Nagpur, India - (NAG);Nanning, China - (NNG);New Delhi, India - (DEL);Osaka, Japan - (KIX);Phnom Penh, Cambodia - (PNH);Qingdao, China - (TAO);Seoul, South Korea - (ICN);Shanghai, China - (SHA);Shenyang, China - (SHE);Shijiazhuang, China - (SJW);Singapore, Singapore - (SIN);Suzhou, China - (SZV);Taipei - (TPE);Thimphu, Bhutan - (PBH);Tianjin, China - (TSN);Tokyo, Japan - (NRT);Ulaanbaatar, Mongolia - (ULN);Vientiane, Laos - (VTE);Wuhan, China - (WUH);Wuxi, China - (WUX);Xi'an, China - (XIY);Yerevan, Armenia - (EVN);Zhengzhou, China - (CGO);Zuzhou, China - (CSX);Amsterdam, Netherlands - (AMS);Athens, Greece - (ATH);Barcelona, Spain - (BCN);Belgrade, Serbia - (BEG);Berlin, Germany - (TXL);Brussels, Belgium - (BRU);Bucharest, Romania - (OTP);Budapest, Hungary - (BUD);Chișinău, Moldova - (KIV);Copenhagen, Denmark - (CPH);Cork, Ireland -  (ORK);Dublin, Ireland - (DUB);Düsseldorf, Germany - (DUS);Edinburgh, United Kingdom - (EDI);Frankfurt, Germany - (FRA);Geneva, Switzerland - (GVA);Gothenburg, Sweden - (GOT);Hamburg, Germany - (HAM);Helsinki, Finland - (HEL);Istanbul, Turkey - (IST);Kyiv, Ukraine - (KBP);Lisbon, Portugal - (LIS);London, United Kingdom - (LHR);Luxembourg City, Luxembourg - (LUX);Madrid, Spain - (MAD);Manchester, United Kingdom - (MAN);Marseille, France - (MRS);Milan, Italy - (MXP);Moscow, Russia - (DME);Munich, Germany - (MUC);Nicosia, Cyprus - (LCA);Oslo, Norway - (OSL);Paris, France - (CDG);Prague, Czech Republic - (PRG);Reykjavík, Iceland - (KEF);Riga, Latvia - (RIX);Rome, Italy - (FCO);Saint Petersburg, Russia - (LED);Sofia, Bulgaria - (SOF);Stockholm, Sweden - (ARN);Tallinn, Estonia - (TLL);Thessaloniki, Greece - (SKG);Vienna, Austria - (VIE);Vilnius, Lithuania - (VNO);Warsaw, Poland - (WAW);Zagreb, Croatia - (ZAG);Zürich, Switzerland - (ZRH);Arica, Chile - (ARI);Asunción, Paraguay - (ASU);Bogotá, Colombia - (BOG);Buenos Aires, Argentina - (EZE);Curitiba, Brazil - (CWB);Fortaleza, Brazil - (FOR);Guatemala City, Guatemala - (GUA);Lima, Peru - (LIM);Medellín, Colombia - (MDE);Panama City, Panama - (PTY);Porto Alegre, Brazil - (POA);Quito, Ecuador - (UIO);Rio de Janeiro, Brazil - (GIG);São Paulo, Brazil - (GRU);Santiago, Chile - (SCL);Willemstad, Curaçao - (CUR);St. George's, Grenada - (GND);Amman, Jordan - (AMM);Baghdad, Iraq - (BGW);Baku, Azerbaijan - (GYD);Beirut, Lebanon - (BEY);Doha, Qatar - (DOH);Dubai, United Arab Emirates - (DXB);Kuwait City, Kuwait - (KWI);Manama, Bahrain - (BAH);Muscat, Oman - (MCT);Ramallah - (ZDM);Riyadh, Saudi Arabia - (RUH);Tel Aviv, Israel - (TLV);Ashburn, VA, United States - (IAD);Atlanta, GA, United States - (ATL);Boston, MA, United States - (BOS);Buffalo, NY, United States - (BUF);Calgary, AB, Canada - (YYC);Charlotte, NC, United States - (CLT);Chicago, IL, United States - (ORD);Columbus, OH, United States - (CMH);Dallas, TX, United States - (DFW);Denver, CO, United States - (DEN);Detroit, MI, United States - (DTW);Honolulu, HI, United States - (HNL);Houston, TX, United States - (IAH);Indianapolis, IN, United States - (IND);Jacksonville, FL, United States - (JAX);Kansas City, MO, United States - (MCI);Las Vegas, NV, United States - (LAS);Los Angeles, CA, United States - (LAX);McAllen, TX, United States - (MFE);Memphis, TN, United States - (MEM);Mexico City, Mexico - (MEX);Miami, FL, United States - (MIA);Minneapolis, MN, United States - (MSP);Montgomery, AL, United States - (MGM);Montréal, QC, Canada - (YUL);Nashville, TN, United States - (BNA);Newark, NJ, United States - (EWR);Norfolk, VA, United States - (ORF);Omaha, NE, United States - (OMA);Philadelphia, United States - (PHL);Phoenix, AZ, United States - (PHX);Pittsburgh, PA, United States - (PIT);Port-Au-Prince, Haiti - (PAP);Portland, OR, United States - (PDX);Queretaro, MX, Mexico - (QRO);Richmond, Virginia - (RIC);Sacramento, CA, United States - (SMF);Salt Lake City, UT, United States - (SLC);San Diego, CA, United States - (SAN);San Jose, CA, United States - (SJC);Saskatoon, SK, Canada - (YXE);Seattle, WA, United States - (SEA);St. Louis, MO, United States - (STL);Tampa, FL, United States - (TPA);Toronto, ON, Canada - (YYZ);Vancouver, BC, Canada - (YVR);Tallahassee, FL, United States - (TLH);Winnipeg, MB, Canada - (YWG);Adelaide, SA, Australia - (ADL);Auckland, New Zealand - (AKL);Brisbane, QLD, Australia - (BNE);Melbourne, VIC, Australia - (MEL);Noumea, New caledonia - (NOU);Perth, WA, Australia - (PER);Sydney, NSW, Australia - (SYD)".split(";"),e=a.split("colo=")[1].split("\n")[0],t=(a.split("colo=")[1].split("\n")[0],a.split("tls=")[1].split("\n")[0]),o=a.split("http=")[1].split("\n")[0],s=a.split("sni=")[1].split("\n")[0],r=a.split("ip=")[1].split("\n")[0],l=a.split("uag=")[1].split("\n")[0];for(var d=0;d<i.length;d++)if(-1!=i[d].indexOf(e)){document.getElementById("cdn").innerHTML=i[d];break}document.getElementById("tls").innerHTML=t,document.getElementById("http").innerHTML=o,document.getElementById("sni").innerHTML=s,document.getElementById("ip").innerHTML=r,document.getElementById("useragent").innerHTML=l}})},$(document).ready((function(){getCDNinfo()}))</script></p><p style="text-align:center">感谢陪伴与布道，开源之火不灭。​</p><p style="text-align:center"><script>document.write("本次加载耗时: "+(performance.getEntriesByType("navigation").reduce((e,r)=>e+r.responseEnd-r.startTime,0)+performance.getEntriesByType("resource").reduce((e,r)=>e+r.responseEnd-r.startTime,0)).toFixed(0)+"ms")</script></p><p style="text-align:center">当前 SNI 状态： <span id="sni">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 TLS 版本： <span id="tls">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前 HTTP 版本： <span id="http">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前您的客户端 IP 是： <span id="ip">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">当前分配的 CDN 节点是: <span id="cdn">正在统计！或可能被浏览器防追踪拦截！</span></p><p style="text-align:center">您的 UserAgent 信息是: <span id="useragent">正在统计！或可能被浏览器防追踪拦截！</span></p><p></p><script defer src="https://pv.undefined.today/tracker.min.js" data-website-id="LinuxCNMirror-tracker"></script></div></div></body></html>